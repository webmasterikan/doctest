// The imagesdir attribute is only needed to display images during offline editing. Antora neglects the attribute.
:imagesdir: ../images
:description: Demo Installation Guide for Windows (French)
:revnumber: v5.8
:revdate: 01.10.2016

= Guide d'installation du demo (Windows)

== Introduction

Beaucoup d'organisations IT utilisent des outils pour gérer le développement de leurs applications.
Les outils utilisés dépendent de la taille de l'équipe de développement ou de la complexité des applications à développer.
La plupart d'entre eux offre une certaine forme de contrôle de version, peut-être même une certaine forme de suivi des incidents et probablement une certaine forme de gestion des changements pour assurer le contrôle du processus de développement du code Source.
Mais que se passe-t-il au moment où le code Source est prêt et quitte le(s) équipe(s) de développement? Dans quelle mesure votre processus de (re)construction pour passer à l'étape QA et Production est-il automatisé? Quel est le degré d'efficacité de vos capacités de déploiement?

IKAN étend le contrôle au-delà des équipes de développement.
L'approche (r)évolutionnaire d'IKAN combine les outils de développement existants avec la gestion automatisée des constructions et des déploiements et avec le support du cycle de vie pour les organisations de toute taille.
Ne manquez pas cette (r)évolution!

Ce document décrit la procédure pour installer l'application IKAN ALM Démo 5.8.
Même si cette version Démo offre la plupart des fonctionnalités de la version complète, elle est limitée de la façon suivante:

* Limitée dans le temps: La licence expire 30 jours après l'installation.
* Utilisation limitée 2 machines définies, 2 utilisateurs flottants, 2 utilisateurs réservés
* Base de données limitée: la Base de données HSQLDB légère est utilisée. La version complète supporte MySQL, Oracle, DB2, MS SQL Server et (sur demande) toute autre Base de données compatible JDBC.
* Les processus du Serveur et de l'Agent seront exécutés dans le même conteneur JVM ou OSGi. Dans la version complète, ils peuvent être installés comme des tâches exécutées indépendamment sur des systèmes locaux ou distants.


Ce document vous guidera dans le processus d'installation de l'application IKAN ALM Démo 5.8.
Cependant, si vous avez besoin de plus d'informations, n'hésitez pas à contacter nos services de support par courrier électronique à __support@ikanalm.com__.

== Prérequis

Avant de démarrer l'installation, vérifiez et, le cas échéant, mettez à jour la configuration de votre système d'installation cible. 

[NOTE]
====
Nous vous recommandons de désinstaller les installations IKAN ALM Démo précédentes avant de procéder à une réinstallation (<<_windemo_uninstalling>>).
====

=== Système d`'exploitation Windows

L'installation IKAN ALM Démo 5.8 Windows a été testée sous:

* Microsoft Windows 7/2008 R2
* Microsoft Windows 8/2012
* Microsoft Windows 8.1/2012 R2
* Microsoft Windows 10/2016 Server


[[_chbbgjeb]]
=== Kit de développement Java SE

Le kit de développement Java SE (JDK) V1.7.x ou 1.8x est requis.

Tous les composants IKAN ALM nécessitent au moins un Kit de développement Java (JDK) ou un Serveur Java Runtime (Serveur JRE). IKAN ALM a été testé pour fonctionner avec Oracle Java ainsi qu'avec OpenJDK.
Le Java SE Server Runtime Environment (Serveur JRE) et le Kit de développement logiciel (SDK) peuvent être obtenus gratuitement via le site Web d'Oracle.
Les version 32 bits et 64 bits sont toutes les deux supportées. 

La dernière version de Java SE peut être téléchargée sur http://www.oracle.com/technetwork/java/javase/downloads/index.htm[
http://www.oracle.com/technetwork/java/javase/downloads/index.html].

[[_chbidjhb]]
=== Microsoft Windows SDK pour Windows 7 et .NET Framework 4

Si vous voulez suivre les actions avec le projet .NET Démo "Monocalendar", le Microsoft Windows SDK for Windows 7 doit être installé ainsi que le .NET Framework 4.
Sinon, il sera impossible de construire et d'exécuter le projet Monocalendar.

Vous pouvez installer le Windows SDK et le .NET Framework plus tard.
Il est téléchargeable à partir du site Web de Microsoft: http://www.microsoft.com/en-us/download/details.aspx?id=8279[
http://www.microsoft.com/en-us/download/details.aspx?id=8279].

[NOTE]
====
Windows SDK 7 connaît des problèmes d'installation sous Windows 10.
Consultez le liens suivant pour la solution à ces problèmes: 

http://stackoverflow.com/questions/32091593/cannot-install-windows-sdk-7-1-on-windows-10[
http://stackoverflow.com/questions/32091593/cannot-install-windows-sdk-7-1-on-windows-10].

Les versions antérieures à Windows 7 requièrent Microsoft .NET Framework 3.5 ainsi que, au moins, .NET Framework 2.0 SDK.
Il est téléchargeable à partir du site Web de Microsoft: http://www.microsoft.com/en-us/download/details.aspx?id=21#_blank[
.NET Framework 3.5] et https://www.microsoft.com/en-us/download/details.aspx?id=19988#_blank[
.NET Framework 2.0 Software Development Kit (SDK) (x86)].
====

== Étapes d'installation

[NOTE]
====
Les captures d'écran utilisées dans ce document supposent que la langue de votre interface IKAN ALM est mise en français.
Pour les autres langues, les écrans seront similaires.
====

=== Étape 1: Démarrer l'installation

L'application IKAN ALM Démo Windows est distribuée sous forme d'un fichier d'archive auto-extractible 32 bits et 64 bits.
La première étape de l'installation consiste à choisir le fichier d'archive approprié et de l'extraire localement sur la machine où vous voulez installer l'application IKAN ALM Démo. 

Pour ce faire, double-cliquez ou exécutez le fichier d'archive (``ikanalm_trial_x86.exe`` ou ``ikanalm_trial_x64.exe``).

Une fenêtre semblable à celle-ci s'affichera:


image::startingup.png[,361,167] 

Sélectionnez un répertoire Cible.
Les fichiers seront extrait dans un sous-répertoire nommé "ikanalm_trial_x86" ou "ikanalm_trial_x64". 

Après extraction, le répertoire devrait contenir:

* alm_license.lic: une licence IKAN ALM Démo (valide pour 30 jours)
* version 32 bits: almdemo_install_5-8_x86.exe
+
l'image d'installation 32 bits pour l'application IKAN ALM Démo 
* version 64 bits: almdemo_install_5-8_x64.exe
+
l'image d'installation 64 bits pour l'application IKAN ALM Démo 
* Guide d'installation IKAN ALM 5.8 Démo Windows.pdf: le Guide d'installation pour installer l'application IKAN ALM Démo


Exécutez l'installateur pour la version 32 bits ou 64 bits: 

* almdemo_install_5-8_x86.exe : Pour exécuter cette image d'installation, le Java Runtime Environment (JRE) 32 bits doit être installé.
* almdemo_install_5-8_x64.exe : Pour exécuter cette image d'installation, le Java Runtime Environment (JRE) 64 bits doit être installé.


L'installateur graphique d'IKAN ALM ne démarre pas! Si l'installateur IKAN ALM ne démarre pas, se référer à la section <<_windemo_troubleshooting>>.

Selon la version du système d'exploitation Windows utilisé, il peut y avoir des différences dans le comportement de l'installateur.

Si UAC est activé (Windows Vista et versions ultérieures), Windows demandera une confirmation avant que le programme ne puisse apporter des modifications à votre ordinateur (si vous utilisez un compte Administrateur). Si vous essayez d'installer l'application en utilisant un autre compte que le compte Administrateur, le message "The requested operation requires elevation" pourrait s`'afficher.

Double-cliquez sur le fichier ``almdemo_install_5.8_xXX.exe``.
La fenêtre suivante s'affichera:


image::scherm_01.png[,171,184] 

Sélectionnez votre langue d'installation préférée et cliquez sur __OK__.

La fenêtre de bienvenue suivante s'affiche:


image::scherm_02.png[,813,491] 

Cliquez sur le bouton _Suivant_ pour continuer.


image::scherm_03.png[,815,489] 

Lisez attentivement l'information "Lisez-moi" (uniquement disponible en anglais). Pour continuer, cliquez sur le bouton __Suivant__.

[[_chbfgfcf]]
=== Étape 2: Accord de licence


image::scherm_04.png[,811,487] 

Lisez attentivement l'accord de licence (uniquement disponible en anglais). Sélectionnez l'option _J'accepte les termes
de cet accord de licence_ et cliquez sur le bouton __Suivant__.

=== Étape 3: Chemin d'installation


image::scherm_05.png[,812,487] 

Dans votre système de fichiers, sélectionnez le répertoire de Base pour l'installation Démo.
Le répertoire de Base par défaut est C:\ALMDemo.
Vous pouvez modifier cet emplacement en utilisant le bouton __Parcourir__.

Dans la suite de ce document, cet emplacement s'appellera __ALM_HOME__.

Cliquez sur le bouton _Suivant_ pour continuer.

Si le répertoire existe déjà, un message d`'avertissement s'affichera.


image::scherm_06.png[,498,145] 

Dans la version de Démo, tous les paquetages doivent être installés.


image::scherm_07.png[,810,486] 

Cliquez sur le bouton _Suivant_ pour continuer avec la sélection d'un Kit de développement Java (JDK).

=== Étape 4: Sélectionner un Kit de développement Java


image::scherm_08.png[,812,488] 

Comme indiqué dans la section <<_chbbgjeb>>, la version 1.7 ou 1.8 du Kit de développement Java (JDK) est requise. 

[NOTE]
====
Un Java Runtime Environnement (JRE) ne sera pas suffisant!
====

Si le répertoire sélectionné ne contient pas de JDK approprié, le message d'erreur suivant s'affichera:


image::scherm_09.png[,376,143] 


[[_chbhbhgj]]
=== Étape 5: Paramètres de configuration


image::scherm_10.png[,813,489] 

Configurez les ports réseau utilisés par IKAN ALM.
En principe, les valeurs proposées par défaut devraient être correctes.
Il faut néanmoins s'assurer que ces numéros de port ne soient pas utilisés par d'autres processus.

Ouvrez une fenêtre de commande DOS et saisissez `netstat -an` pour vérifier les ports actuellement utilisés.

Dans le reste du présent guide, le port du Serveur d'application s`'appellera désormais __ALM_APPSERVER_PORT__.

Cliquez sur le bouton _Suivant_ pour afficher le résumé de l'installation.


image::scherm_11.png[,815,489] 

Cliquez sur le bouton _Suivant_ pour démarrer l'installation utilisant les paramètres spécifiés:


image::scherm_12.png[,810,486] 

Une fois l'installation terminée, cliquez sur le bouton _Suivant_ pour continuer avec la spécification du menu de démarrage.

=== Étape 6: Raccourcis de menu de démarrage


image::scherm_13.png[,816,488] 

Sélectionnez le Groupe Programme et le Nom du raccourci pour le menu de démarrage.
Par défaut, _IKAN ALM
Demo 5.8_ est utilisé pour le groupe et le nom.
Vous pouvez modifier ces noms.

Cliquez sur le bouton _Suivant_ pour compléter l'installation IKAN ALM Démo.


image::scherm_14.png[,814,488] 


== Configuration après l'installation

=== Installer la licence IKAN ALM

Combiné avec ce Guide d'installation et l'installateur, vous devriez avoir reçu un fichier de licence nommé __alm_license.lic__.

Cette licence démo expirera après 30 jours.
(<<_chbfgfcf>>). Contactez les services de support d'IKAN ALM si vous n'avez pas reçu de fichier de licence, ou si vous voulez étendre la période de licence.

Démarrez le Serveur IKAN ALM Démo

* Via le menu de démarrage: 
+
__Applications > IKAN ALM
Demo 5.8 > Start IKAN ALM Demo server__
* Ou via le fichier batch:
+
Double-cliquez sur le fichier _ALM_HOME/startDemo.cmd_


Ouvrez l'application Web IKAN ALM:

* Via le menu de démarrage:
+
__Démarrer > Programmes >
IKAN ALM Demo 5.8 > Open IKAN ALM in browser__
* Ou via un navigateur Web:
+
Saisissez l'URL suivant: _\http://MACHINE_NAME:ALM_APPSERVER_PORT/alm_ (Par exemple, \http://ikan009:9080/alm)


La fenêtre pour installer la licence s`'affiche:


image::start_01.png[,518,291] 

Saisissez ou sélectionnez l'emplacement du fichier _alm_license.lic_ que vous avez reçu en utilisant le bouton _Browse_ et cliquez sur le bouton __Submit__.
Ne modifiez ni le fichier ni le nom du fichier.
Dès que la licence est installée, la fenêtre suivante s'affiche:


image::start_02.png[,520,322] 


== Utiliser l'application IKAN ALM Démo 5.8 

[[_chbgjjeb]]
=== Démarrer et arrêter le Serveur IKAN ALM

Le Serveur IKAN ALM Démo doit être en cours avant de pouvoir utiliser IKAN ALM.

Démarrez le Serveur IKAN ALM Démo

* Via le menu contextuel: 
+
__Démarrer > Programmes >
IKAN ALM Demo 5.8 > Start IKAN ALM Demo server__
* Ou via le fichier batch:
+
Double-cliquez sur le fichier _ALM_HOME/startDemo.cmd_


Cela lancera un Serveur Web Tomcat et le Serveur IKAN ALM Démo (sur lequel sont exécutés le Serveur et l'Agent IKAN ALM). Si la fenêtre de commande du Serveur IKAN ALM Démo affiche un message tel que: "Successfully connected with IKAN ALM server", l'application ALM Démo a démarré complètement.


image::fig5_1.png[,687,351] 

Si la fenêtre de commande du Serveur IKAN ALM Démo affiche un message tel que: "INFO : Server startup in nnn ms" , le Serveur Tomcat a démarré complètement et vous pouvez utiliser l`'application Web avec votre navigateur.


image::fig5_2.png[,687,351] 

Arrêter le Serveur IKAN ALM Démo

* Via le menu contextuel: 
+
__Démarrer > Programmes >
IKAN ALM Demo 5.8 > Stop IKAN ALM Demo server__
* Ou via le fichier batch:
+
Double-cliquez sur le fichier _ALM_HOME/stopDemo.cmd_


=== Ouvrir l'application Web IKAN ALM

Si vous utilisez la machine sur laquelle l'application IKAN ALM Démo est installée, vous pouvez procéder comme suit:

_Démarrer > Programmes >
IKAN ALM Demo 5.8 > Open IKAN ALM in browser_

Si vous n'avez pas installé les raccourcis de menu de démarrage, ou si vous travaillez sur une machine distante dans le même réseau auquel appartient la machine sur laquelle vous avez installé l'application IKAN ALM Démo, procédez comme suit:

. Démarrez un navigateur internet 
. Saisissez l'URL _suivant: \http://MACHINE_NAME: ALM_APPSERVER_PORT/alm_


[NOTE]
====

Remplacez _MACHINE_NAME_ par le nom ou l'adresse IP (par exemple, 127.0.0.1, IKAN001, ... ) de la Machine sur laquelle vous avez installé l'application IKAN ALM Démo.__ALM_APPSERVER_PORT__ comme configuré dans la section <<_chbhbhgj>>.
Par exemple: un URL de départ IKAN ALM pourrait ressembler à __\http://ikan009:9080/alm__.
====

Une session de navigateur Web s'ouvrira affichant la fenêtre de _Connexion_ d'IKAN ALM.

[[_ceggadeb]]
=== Se connecter à l'application Web IKAN ALM

Vous êtes prêts à utiliser l'interface Web IKAN ALM. 


image::start_03.png[,528,311] 

Il est utile d'ajouter ce lien aux favoris de votre navigateur Web.

Utilisez une des combinaisons Utilisateur-Mot de passe prédéfinies pour vous connecter à IKAN ALM.

[cols="1,1,1", frame="topbot", options="header"]
|===
| Utilisateur
| Mot de passe
| Droits d'accès


|

user
|

user
|

Utilisateur

|

project
|

project
|

Administration des projets

|

global
|

global
|

Administration globale
|===


Nous vous conseillons de démarrer avec l'Utilisateur _global_ (Mot de passe: __global__) puisque cet Utilisateur à des droits d'accès complets à tous les composants de l'application IKAN ALM Démo.

Saisissez l'Utilisateur et le Mot de Passe et cliquez sur le bouton __Se connecter__.
La page d`'accueil d'IKAN ALM s'affiche et vous pouvez commencer à travailler dans IKAN ALM.

=== Projets IKAN ALM Démo

L'installation IKAN ALM Démo comprend deux projets Démo complètement configurés incluant un Système de Contrôle de Version (Subversion), des Outils de script, des scripts, des fichiers Source, et des sections d'Administration globale et d'Administration des projets complètement configurées et prêtes pour les activités de Construction et de Déploiement.

==== Le projet "Customers"

Le projet _Customers_ est une application Web, développée en Java, pour gérer une Base de données de clients simple.
Son Cycle de Vie comprend trois paliers: les niveaux CONTBUILD, TEST et PRODUCTION. 

* Le Niveau CONTBUILD exécutera automatiquement une Construction si les Sources sont modifiées, assurant ainsi une Intégration Continue. 
* Le Niveau TEST téléchargera les données de test générées dans la Base de données de test et déploiera l'application vers le Serveur Web IKAN ALM (Apache Tomcat) dans un contexte de test.
* Le Niveau PRODUCTION déploiera l'application vers le Serveur Web IKAN ALM (Apache Tomcat) dans un contexte de production.


Les scripts sont exécutés avec Apache Ant.

Pour une description détaillée de ce projet, se référer au chapitre <<_webpadproject>>.

==== Le projet "Monocalendar"

Le projet _Monocalendar_ est une application de calendrier autonome écrite en C Sharp.
Son Cycle de vie dans la Branche Principale comprend également trois Niveaux:

* CONTBUILD pour l'Intégration continue
* TEST pour la reconstruction ou la création d'un installateur NSIS
* PRODUCTION pour installer/désinstaller l'application.


Les scripts sont exécutés avec NAnt.
Pour une description détaillée des champs, se référer à la section <<_monocalendarproject>>. 

=== Documentation

Le _Guide de l`'Utilisateur IKAN ALM_ est disponible dans les formats suivants:

* _Démarrer > Programmes > IKAN ALM Demo 5.8 > IKAN ALM Documentation_
* en format PDF sous _ALM_HOME/doc/ALMUserGuide.pdf_
* en format HTLM dans l'application Web IKAN ALM:
+
Sélectionnez _Aide_ dans le menu principal.
Une nouvelle fenêtre de votre navigateur s'ouvrira, affichant la "Table des matières".
* sous forme d'aide contextuelle disponible sur chaque fenêtre de l'Interface Utilisateur d'IKAN ALM.
+
Pour y accéder, cliquez sur l'icône image:icons/help.gif[,16,16]  à droite du fil d'Ariane de la fenêtre sélectionnée.

[[_webpadproject]]
== Exemple de projet Java (Customers)

Le projet "Customers" est une application Web, développée en Java, pour gérer une Base de données de clients simple.
Son Cycle de Vie comprend trois paliers (Niveaux):

. Le Niveau CONTBUILD
+
Ce Niveau exécutera automatiquement une Construction si les Sources sont modifiées, assurant ainsi une Intégration Continue
. Le Niveau TEST
+
Ce Niveau téléchargera des données de test générées dans la Base de données de test et déploiera l'application vers le Serveur Web IKAN ALM (Apache Tomcat) dans un contexte de test.
. Le Niveau PRODUCTION
+
Ce Niveau déploiera l'application vers le Serveur Web IKAN ALM (Apache Tomcat) dans un contexte de production.


Les scripts utilisés par ce Projet sont exécutés avec Apache Ant.

Les sections suivantes décrivent les étapes différentes:

* <<_webpad_managedesktop>>
* <<_webpad_unlockproject>>
* <<_webpad_builddeliver>>
* <<_cegheagc>>


[[_webpad_managedesktop]]
=== Gérer votre Bureau

Le Bureau vous permet de suivre les actions (Constructions, Déploiements) exécutées dans un projet.
Si vous vous connectez pour la première fois, votre Bureau sera vide. 

[NOTE]
====
Par défaut, la langue de l`'interface est établie à anglais.
Pour modifier la langue, sélectionnez __Desktop
> Personal Settings__.
Modifiez le champ _Language_ et cliquez sur le bouton __Save__.
====

Dans cette section, nous créerons un élément de bureau pour le projet "Customers".

Dans la fenêtre du Bureau, cliquez sur le bouton __Ajouter
au Bureau__.


image::ch6_01.png[,835,215] 

La fenêtre _Ajouter au Bureau_ s'affiche.


image::ch6_02.png[,673,359] 

Un Projet peut avoir plusieurs Cycles de Vie.
Dans IKAN ALM, ces Cycles de vie sont organisés dans des Branches.
Pour pouvoir suivre l'activité dans une Branche, vous pouvez créer un élément de bureau pour la Branche.

Sélectionnez la Branche "1-0" du projet "Customers" et cliquez sur le bouton __Ajouter au Bureau__.

Si l'élément est ajouté correctement au Bureau, un message de confirmation s'affichera.
Cliquez sur le bouton _Fermer_ pour fermer la fenêtre __Ajouter au Bureau__.

[NOTE]
====
À partir de l'arborescence, vous pouvez sélectionner des Niveaux individuels et les ajouter à votre Bureau.
====

Développez les Niveaux de la Branche en cliquant sur l'icône image:icons/ExpandProjectStream.gif[,10,10]  devant l'élément de bureau de la Branche __Customers 1-0__.
Les Niveaux suivants s'affichent:


image::ch6_03.png[,841,310] 

Comme vous pouvez le constater, il n'y a pas encore beaucoup d'activité dans le projet "Customers" puisque le projet est verrouillé.
Dans l'étape suivante nous déverrouillerons le projet.

[[_webpad_unlockproject]]
=== Déverrouiller un Projet

Pour pouvoir construire le projet "Customers", il faudra déverrouiller le projet, ainsi que les Niveaux correspondants, dans la section Administration des projets.
Cette action est réservée aux Utilisateurs ayant des droits d'Administration de projets, tels que les Utilisateurs "global" ou "projet" (voir <<_ceggadeb>>).

Pour commencer la procédure de déverrouillage, sélectionnez image:icons/icon_ProjectAdmin_13x13.png[,13,13] _Administration
des projets_ dans le menu principal. 


image::ch6_04.png[,836,305] 

Cliquez sur l'icône _Modifier_ image:icons/edit.gif[,15,15]  devant le projet "Customers".

[NOTE]
====
Vous verrez également l'icône _Déverrouiller_ image:icons/unlock.gif[,15,15]  devant chaque Projet dans cette liste.
Cette icône déverrouillera uniquement le Projet, tout en maintenant les Niveaux verrouillés.
====

La fenêtre _Modifier un Projet_ s'affiche dans le contexte de l'Administration du projet "Customers". Nous n'allons pas modifier les Paramètres du Projet, mais vous pouvez vérifier l'existence du Projet dans le Référentiel Subversion en cliquant sur le bouton __Vérifier le nom du Projet dans le RCV__.

Dans le sous-menu, sélectionnez _Auditer le projet_ pour vérifier la cohérence du Projet. 


image::ch6_05.png[,850,86] 

Avant que la fenêtre _Auditer le Projet_ ne soit affichée, plusieurs contrôles sont effectués pour vérifier la configuration du Projet.
Vous pouvez utiliser le bouton image:icons/help.gif[,16,16]  pour afficher l'aide en ligne concernant cette fonction.
Pour plus d'informations, se référer au chapitre _Auditer un projet_ dans le __Guide de l'Utilisateur IKAN ALM__. 

Si le projet est cohérent (branches secondaires, niveaux, environnements, phases et paramètres sont valides), le lien _Déverrouiller_ apparaîtra dans le panneau __Actions__.
Cliquez sur ce lien pour déverrouiller le Projet et ses Niveaux.


image::ch6_06.png[,844,482] 

Suite à cela, l'icône _Verrouillé_ devant les Niveaux disparaîtra.
Le projet n'est plus verrouillé.
Dans le menu principal, sélectionnez image:icons/icon_ProjectAdmin_13x13.png[,13,13] __Administration
des Projets __pour vérifier, dans __l`'Aperçu
des Projets__, qu'il n'y a plus de bouton _Verrouillé_ devant le Projet.

Dès que le Projet et ses Niveaux sont déverrouillés, quelques actions seront automatiquement exécutées dans le Projet.
Passez à la section suivante pour comprendre ce qui se passe.

[[_webpad_builddeliver]]
=== Construire/Délivrer dans le Cycle de vie d'un Projet

[[_firstbuild]]
==== Construction automatique sur un Niveau de construction

Une fois le Projet déverrouillé, il sera construit automatiquement.

Comme un Plan horaire de Construction continue est associé au Niveau de construction du Projet (CONTBUILD), le Planificateur IKAN ALM vérifiera au moment du démarrage (et ensuite, après chaque minute) s'il y a eu des modifications dans le "trunk" du Référentiel Subversion lié au Projet. 

S'il y a eu des modifications, ou si aucune Construction n'a encore été exécutée (ce qui est le cas dans notre exemple), une Requête de niveau de Construction sera créée.

Pour vérifier le résultat de cette Requête de niveau de Construction, sélectionnez _Requêtes
de niveau > Aperçu des Requêtes de niveau_ dans le menu principal.

L'aperçu suivant s'affichera:


image::ch6_07.png[,836,417] 

Sélectionnez l'__OID__ (1) de la Requête de Niveau pour afficher la fenêtre des _Informations détaillées_ sur laquelle vous pouvez vérifier ce qui s'est passé pendant la Requête de niveau de Construction.

Dans IKAN ALM, les étapes du processus de Construction sont appelées des Phases.
Sélectionnez l'onglet _Journaux
de Phase_ pour vérifier ce qui s'est passé pendant l'exécution de la Requête de Niveau.


image::ch6_08.png[,940,487] 

Cet onglet affiche les Journaux des Phases de Niveau, les actions de Construction et de Déploiement, et leurs Phases de construction et de déploiement exécutées lors de l'exécution de la Requête de niveau.
Il fournit également des informations plus détaillées concernant les Paramètres utilisés.
Puisqu'un Environnement de Construction est associé au Niveau CONTBUILD, une action de Construction utilisant des Phases de construction sera effectuée.
Il n'y aura pas d'actions de Déploiement.
Cliquez sur un des noms de Phase: cela développera la Phase en affichant ses détails.

Le journal le plus intéressant est celui de la Phase "Exécution script". Il devrait afficher un processus de compilation réussi, la création d'un fichier .war et quelques tâches associées.
Pour l'afficher, développez l'action de Construction (nommé Construction 1 sur la machine XXX). Les Phases de construction exécutées lors de la Construction sont affichées.
Ensuite, développez la Phase "Exécution du script". Cela affichera le journal d'exécution dans lequel vous trouverez le résultat du script de construction Ant exécuté.


image::ch6_09.png[,881,557] 


[[_delivertotest]]
==== Délivrer la Construction vers le Niveau TEST

À ce stade, une Construction réussie est disponible dans le premier Niveau de la Branche Principale.
Maintenant nous allons délivrer la Construction vers les Niveaux suivants (TEST et PRODUCTION) dans le Cycle de vie.

Sélectionnez _Bureau_ dans le Menu Principal.


image::ch6_10.png[,946,265] 

Cliquez sur l'icône _Délivrer_ image:icons/icon_deliverBuild.png[,15,15]  à droite du Niveau __Customers H_1-0 TEST__.


image::ch6_11.png[,940,628] 

Dans l'écran __Créer une Requête de niveau__, saisissez une description et sélectionnez la Construction (1) en cliquant sur la rangée contenant la Construction concernée.

[NOTE]
====
Si vous ne remplissez pas le champ __Exécution
demandée__, la Requête de niveau pour délivrer la Construction sera exécutée immédiatement.
====

Cliquez sur le bouton __Créer__.
L'écran _Bureau_ s'affichera.
Sélectionnez la _Dernière Requête de niveau_ du Niveau de Test pour afficher les _Informations détaillées_ de la Requête de Niveau.
Une Requête de niveau pour délivrer la Construction est créée pour le Niveau TEST de votre Projet.

Le statut de la Requête de niveau est établi à _En attente de l`'heure d`'exécution_ (image:icons/waiting_datetime.gif[,15,15] ) jusqu'à ce qu'elle ne soit traitée par le Serveur IKAN ALM.
Ensuite, le statut sera modifié en _Exécution_ (image:icons/run.gif[,15,15] ). 

Dans l`'__Aperçu du Bureau__, cliquez sur le lien _Dernière Requête de niveau_ pour le Niveau de Test.


image::ch6_12.png[,933,306] 

L`'écran __Informations détaillées __s`'affiche.

Cliquez sur le lien _Actualiser_ ou activez la fonction _Actualisation automatique_ dans le sous-menu.
Finalement, la Requête de niveau devrait se terminer avec le statut _Réussie_ (image:icons/succes.gif[,15,15] ).


image::ch6_13.png[,941,423] 


===== Quel est le résultat de cette action de déploiementvers le Niveau TEST?

Le Niveau TEST du projet "Customers" contient une action de Déploiement.
Pendant l'étape de Déploiement, l'application Web "Customers" a été déployée vers le Serveur Tomcat sur lequel est exécutée l'application ALM Démo.
L'application est déployée avec un contexte de test ("/customers_test"). Avant le déploiement de l'application, une Base de données contenant des données de test (une HSLDB, également exécutée dans Tomcat) a été téléchargée.

Pour afficher l'application déployée, ouvrez une session de navigateur et saisissez l'URL suivant: `\http://MACHINE_NAME:ALM_APPSERVER_PORT/customers_test` (par exemple: \http://ikan009:9080/customers_test).


image::ch6_14.png[,664,243] 


[NOTE]
====
La couleur générale de l'application est verte.
Cela sert à indiquer qu'il s'agit de la version test de l'application.
La couleur générale de la version de production sera rouge.

Remarquez également que la version des Sources (la balise RCV) utilisés pour construire cette version de l'application, est affichée dans le panneau de bienvenue.
Dans cet exemple, la Balise RCV est H_1-0_b1.
====

Cliquez sur le lien _List all Customers_ pour afficher la liste de tous les clients définis dans la Base de données de test.


image::ch6_15.png[,657,257] 


[[_delivertoproduction]]
==== Délivrer la Construction vers le Niveau PRODUCTION 

Pour voir ce qui se passe ensuite dans le Cycle de vie, nous allons délivrer la Construction vers le Niveau PRODUCTION.
Vous pouvez faire cela via le Bureau, de la même manière que celle expliquée pour le Niveau TEST.
Une autre méthode consiste à sélectionner _Requêtes
de niveau > Créer une Requête de niveau_ dans le sous-menu.


image::ch6_16.png[,936,421] 

Cliquez sur l'icône _Délivrer_ image:icons/icon_deliverBuild.png[,15,15]  à droite du Niveau Customers H_1-0 PRODUCTION.

Saisissez une description, comme vous l'avez fait pour la création de la Requête de niveau pour le Niveau TEST, et sélectionnez le Numéro de construction __1__.
Si vous laissez le champ _Exécution demandée_ vide, la Requête de niveau pour délivrer la Construction sera exécutée immédiatement.

Cliquez sur le bouton __Créer__.

L'écran _Informations détaillées_ s'affichera.


image::ch6_17.png[,938,465] 

Une nouvelle Requête de niveau sera créée, avec le statut _En
attente de pré-approbation_ (image:icons/waiting_approval.gif[,15,15] ). Comme une Pré-approbation est associée au Niveau PRODUCTION, un message de notification sera envoyé à tous les membres du Groupe d`'utilisateurs __ALM
User__.

Le statut de la nouvelle Requête de niveau restera établie à _En attente de pré-approbation_ tant que l'approbation ne sera pas accordée.
Comme l'Utilisateur "global" fait partie du Groupe d`'utilisateurs __ALM User__, sélectionnez _Approbations > Approbations en attente_ dans le sous-menu et cliquez sur le lien _Approuver _image:icons/approve.gif[,15,15] . 


image::ch6_18.png[,940,474] 

Saisissez une description pour l'Approbation et cliquez sur le bouton _Approuver_

Maintenant, la Requête de niveau sera traitée par le Serveur IKAN ALM.
Le statut de la _Dernière
Requête de niveau_ sera établi à _Exécution_ (image:icons/run.gif[,15,15] ). Cliquez sur le lien _Actualiser_ ou activez la fonction _Actualisation
automatique_ dans le sous-menu.
Finalement, la Requête de niveau devrait se terminer avec le statut _Réussie_ (image:icons/succes.gif[,15,15] ).

Dans l`'__Aperçu du Bureau__, vous pouvez également cliquer sur le lien _Dernière Requête
de niveau_ pour afficher le suivi des différentes Phases.


image::ch6_19.png[,940,261] 


===== Quel est le résultat de cette action de déploiementvers le Niveau PRODUCTION?

Le Niveau PRODUCTION du projet "Customers" contient une action de Déploiement.
Pendant l'étape de Déploiement, l'application Web "Customers" a été déployée vers le Serveur Tomcat sur lequel est exécutée l'application ALM Démo.
L'application est déployée dans le contexte "/customers". Contrairement à ce qui s'est passé dans le Niveau TEST, aucune donnée n'est chargée dans la Base de données de test.
En revanche, l'application déployée utilise une Base de données de clients pré-remplie avec des données réalistes. 


image::ch6_20.png[,665,228] 


[NOTE]
====
Pour afficher l'application déployée, ouvrez un navigateur Web et saisissez l'URL`` suivant: \http://MACHINE_NAME:ALM_APPSERVER_PORT/customers`` (Par exemple: \http://ikan009:9080/customers). 

La couleur générale de l'application est rouge.
Cela sert à indiquer qu'il s'agit de la version production de l'application.
Remarquez également que la version des Sources (la balise RCV) utilisés pour construire cette version de l'application, est affichée dans le panneau de bienvenue.
Dans cet exemple-ci, la balise RCV est H_1-0_b1.
====

Cliquez sur le lien _List all Customers_ pour afficher la liste de tous les clients définis dans la Base de données de production.


image::ch6_21.png[,659,419] 


[[_cegheagc]]
=== Déclencher une Construction planifiée par l'enregistrement d'uneSource

Vous pouvez vérifier le code Source des projets Démo et enregistrer les modifications.

Installez un client Subversion, par exemple Tortoise SVN, et récupérez le code Source.

L'URL du Référentiel pour le projet "Customers" est __\file:///ALM_HOME/vcr/subversion/repository/customers/trunk__.

Modifiez un fichier Source et enregistrez-le.
Le Planificateur remarquera les modifications et démarrera la construction du Projet.

=== Informations supplémentaires concernant les Phases personnalisées

Au lieu d'utiliser un seul script Ant très large exécutant toutes les tâches, le déploiement de l'application "Customers" utilise plusieurs petits scripts chacun d'entre eux exécutant une tâche spécifique.
Les tâches réutilisables ont été regroupées dans une Phase personnalisée dans IKAN ALM.

Plus spécifiquement, le déploiement vers le Niveau TEST exécute trois tâches:

* Modifier le fichier .war (spécifier les paramètres de connexion de la Base de données dans certains fichiers config)
* Alimenter une Base de données avec des données de test
* Déployer l'application vers Tomcat


La première tâche n'est pas assez générale pour pouvoir être réutilisée, mais pour les deux autres des Phases personnalisées ont été créées: les Phases "Update DB" et "Tomcat Deploy".

Pour vérifier la définition de ces Phases, sélectionnez image:icons/icon_GlobalAdmin_13x13.png[,13,13] __ Administration
globale > Phases > Aperçu__.


image::ch6_22.png[,944,537] 

Cliquez sur l'icône _Modifier_ image:icons/edit.gif[,15,15]  devant la Phase __com.ikanalm.phases.ant.scripting.tomcatDeploy Phase__.


image::ch6_23.png[,949,724] 

Cette fenêtre affiche les informations générales sur la Phase, les Paramètres de phase qui peuvent être spécifiés pour configurer l'exécution de la Phase et les _Niveaux et Environnements
connectés_ où la Phase est utilisée.

Un des paramètres à spécifier est le paramètre "`tomcat.server.url`". Il établit l'URL de base du Serveur Tomcat de l'emplacement où les applications doivent être déployées.
Si une Phase est ajoutée à un Environnement (de Niveau, de Construction ou de Déploiement), ces paramètres peuvent avoir une valeur différente pour chaque environnement.
Cela signifie que la même Phase peut être réutilisée dans beaucoup d'environnements différents, exécutant chaque fois une tâche différente, ce qui offre une grande flexibilité.

Comme vous pouvez le constater dans le panneau __Niveaux
et Environnements connectés__, notre Phase de Déploiement Tomcat est actuellement utilisée à deux endroits différents:

* Dans l'Environnement de Déploiement _testdeploy_ du Niveau TEST, où il déploie l'application "Customers" dans le contexte de test.
* Dans l'Environnement de Déploiement _proddeploy_ du Niveau PRODUCTION, où il déploie l'application "Customers" dans le contexte de production.


Comme un exemple d'une utilisation plus avancée des Paramètres, prenons le Paramètre de phase "contextPath". Sa valeur par défaut est établie à `/$\{applicationName}` et cette valeur est spécifiée tant pour l'Environnement "testdeploy" que pour l'Environnement "proddeploy" (cliquez sur l'icône _Modifier_ image:icons/edit.gif[,15,15]  devant le Paramètre __contextPath__). Toutefois, l'application "Customers" est déployée dans deux contextes différents: "customers_test" et "customers". 

Comment cela est réalisé?

La réponse se trouve dans le Paramètre de déploiement (nommé "applicationName") qui est spécifié pour les deux Environnements de déploiement .

Accédez à la section image:icons/icon_ProjectAdmin_13x13.png[,13,13] _Administration
des projets_ et modifiez le projet "Customers". Dans le menu, sélectionnez ensuite __Environnements de déploiement
> Paramètres de Déploiement__: 


image::ch6_24.png[,947,452] 

Vous constaterez que pour l'Environnement "testdeploy" la valeur du Paramètre "applicationName" est "customers_test", tandis que pour l'Environnement "proddeploy" la valeur est établie à "customers". Au moment de l'exécution de la Phase de Déploiement Tomcat, la propriété $\{applicationName} sera remplacée par la valeur du Paramètre de déploiement qui donnera le résultat désiré.

Pour plus d'informations concernant les Phases personnalisées et la procédure pour les créer vous-mêmes, se référer au _Guide
de l'Utilisateur IKAN ALM_ (le chapitre __Administration
globale, Phases__) et l'appendice __Phases: Informations
générales__), et le document __Utiliser et développer
des Phases personnalisées dans IKAN ALM__.
[[_monocalendarproject]]
== Exemple d'un projet .NET (Monocalendar)

Le Projet Monocalendar est une application de calendrier autonome écrite en C Sharp.
Son Cycle de vie dans la Branche Principale comprend trois paliers (Niveaux):

. Le Niveau CONTBUILD
+
Ce Niveau exécutera automatiquement une Construction si les Sources sont modifiées, assurant ainsi une Intégration Continue.
. Le Niveau TEST
+
Ce Niveau effectuera une reconstruction et créera un installateur NSIS.
. Le Niveau PRODUCTION
+
Le Niveau pour installer/désinstaller l'application.


Les scripts sont exécutés avec NAnt.
Le Microsoft SDK pour Windows 7 et le Microsoft .NET Framework 4 sont requis pour la compilation (voir également <<_chbidjhb>>).

Les sections suivantes décrivent les étapes différentes:

* <<_cegibjjh>>
* <<_cegdidfh>>
* <<_cegfgdef>>
* <<_cegcgjif>>


[[_cegibjjh]]
=== Gérer votre Bureau

Le Bureau vous permet de suivre les actions (Constructions, Déploiements) exécutées dans un projet.
Quand vous vous connectez pour la première fois, votre Bureau sera vide.

[NOTE]
====
Par défaut, la langue de l`'interface est établie à anglais.
Pour modifier la langue, sélectionnez __Desktop
> Personal Settings__.
Modifiez le champ _Language_ et cliquez sur le bouton __Save__.
====

Dans cette section, nous créerons un élément de bureau pour le projet "Monocalendar". 

Dans la fenêtre du __Bureau__, cliquez sur le bouton __Ajouter au Bureau__. 


image::mono_01.png[,904,204] 

La fenêtre _Ajouter au Bureau_ s'affiche.


image::mono_02.png[,671,363] 

Un Projet peut avoir plusieurs Cycles de Vie.
Dans IKAN ALM, ils sont organisés dans des Branches.
Pour pouvoir suivre l'activité dans une Branche, vous pouvez créer un élément de bureau pour la Branche.

Sélectionnez la Branche "1-0" du projet "Monocalendar" et cliquez sur le bouton __Ajouter au Bureau__.

Si l'élément est ajouté correctement au Bureau, un message de confirmation s'affichera.
Cliquez sur le bouton _Fermer_ pour fermer la fenêtre __Ajouter au Bureau__. 

[NOTE]
====
À partir de l'arborescence, vous pouvez sélectionner des Niveaux individuels et les ajouter à votre Bureau.
====

Développez les Niveaux de la Branche en cliquant sur l'icône image:icons/ExpandProjectStream.gif[,10,10]  devant l'élément de bureau de la Branche _Monocalendar 1-0_ . Les Niveaux suivants s'affichent: 


image::mono_03.png[,915,258] 

Comme vous pouvez le constater, il n'y a pas encore beaucoup d'activité dans le projet "Monocalendar" puisque le projet est verrouillé.
Dans l'étape suivante nous déverrouillerons le projet.

[[_cegdidfh]]
=== Déverrouiller un Projet

Pour pouvoir construire le projet "Monocalendar", il faut déverrouiller le projet, ainsi que les Niveaux correspondants, dans la section Administration des projets.
Cette action est réservée aux Utilisateurs ayant des droits d'Administrateur de projets, tels que les Utilisateurs "global" ou "projet" (<<_ceggadeb>>).

Pour commencer la procédure de déverrouillage, sélectionnez image:icons/icon_ProjectAdmin_13x13.png[,13,13] _Administration
des projets_ dans le menu principal. 


image::mono_04.png[,932,325] 

Cliquez sur l'icône _Modifier_ image:icons/edit.gif[,15,15]  devant le projet "Monocalendar".

[NOTE]
====
Vous verrez également l'icône _Déverrouiller_ image:icons/unlock.gif[,15,15]  devant chaque Projet dans cette liste.
Cette icône déverrouillera uniquement le Projet, tout en maintenant les Niveaux verrouillés.
====

L'écran _Informations sur le Projet_ s'affiche dans le contexte de l'Administration du projet "Monocalendar". Nous n'allons pas modifier les Paramètres du Projet, mais vous pouvez vérifier l'existence du Projet dans le Référentiel Subversion en cliquant sur le bouton _Vérifier le nom du Projet_ dans le RCV.

Dans le sous-menu, sélectionnez _Auditer le projet_ pour vérifier la cohérence du Projet. 


image::mono_05.png[,905,87] 

Avant que la fenêtre _Auditer le Projet_ ne soit affichée, plusieurs contrôles sont effectués pour vérifier la configuration du Projet.
Vous pouvez utiliser le bouton image:icons/help.gif[,16,16]  pour afficher l'aide en ligne concernant cette fonction.
Pour plus d'informations, se référer au chapitre _Auditer un projet_ dans le __Guide de l'Utilisateur IKAN ALM__. 

Si le projet est cohérent (branches secondaires, niveaux, environnements, phases et paramètres sont valides), le lien _Déverrouiller_ apparaîtra dans le panneau __Actions__.
Cliquez sur ce lien pour déverrouiller le Projet et ses Niveaux. 


image::mono_06.png[,916,507] 

Suite à cela, l'icône _Verrouillé_ devant les Niveaux disparaîtra.
Le projet n'est plus verrouillé.
Dans le sous-menu, sélectionnez _Aperçu
des Projets_ pour vérifier que le bouton _Verrouillé_ devant le Projet a disparu.

Dès que le Projet et ses Niveaux sont déverrouillés, quelques actions seront automatiquement exécutées dans le Projet.
Passez à la section suivante pour comprendre ce qui se passe. 

[[_cegfgdef]]
=== Construire/Délivrer dans le Cycle de vie d'un Projet

==== Construction automatique sur un Niveau de construction

Une fois le Projet déverrouillé, il sera construit automatiquement.

Comme un Plan horaire de Construction continue est associé au Niveau de construction du Projet (CONTBUILD), le Planificateur IKAN ALM vérifiera au moment du démarrage (et ensuite, après chaque minute) s'il y a eu des modifications dans le Référentiel Subversion lié au Projet. 

S'il y a eu des modifications, ou si aucune Construction n'a encore été exécutée (ce qui est le cas dans notre exemple), une Requête de niveau de Construction sera créée.

Pour vérifier le résultat de cette Requête de niveau de Construction, sélectionnez _Requêtes
de niveau > Aperçu des Requêtes de niveau_ dans le menu principal.

L'aperçu suivant s'affichera: 


image::mono_07.png[,915,407] 

Sélectionnez l'OID (4) de la Requête de Niveau pour afficher la fenêtre des _Informations détaillées_ sur laquelle vous pouvez vérifier ce qui s'est passé pendant l'exécution de la Requête de niveau de Construction.

Dans IKAN ALM, les étapes du processus de Construction sont appelées des Phases.
Sélectionnez l'onglet _Journaux
de Phase_ pour vérifier ce qui s'est passé pendant la Requête de Niveau. 


image::mono_08.png[,915,480] 

Cet onglet affiche les Journaux des Phases de Niveau, les actions de Construction et de Déploiement et leurs Phases de construction et de déploiement exécutées lors de l'exécution de la Requête de niveau.
Il fournit également des informations plus détaillées concernant les Paramètres utilisés.
Cliquez sur un des noms de Phase: cela développera la Phase en affichant ses détails.

Le journal de la Phase _Exécution script_ est le plus intéressant.
Il devrait afficher un processus de compilation réussi et quelques tâches associées.
À cet effet, développez l'action de Construction (nommé ``Construction 1
sur la machine XXX``). Les Phases de construction exécutées lors de la Construction sont affichées.
Ensuite, développez la Phase __Exécution script__.
Cela affichera le journal d'exécution.
Vous verrez que certaines actions de compilation ont réussi donnant lieu à la création du fichier __Monocalendar.exe__. 


image::mono_09.png[,796,668] 


==== Délivrer la Construction vers le Niveau TEST

À ce stade, une Construction réussie est disponible dans le premier Niveau de la Branche Principale.
Maintenant nous allons délivrer la Construction vers les Niveaux suivants (TEST et PRODUCTION) dans le Cycle de vie.

Sélectionnez _Bureau_ dans le Menu Principal. 


image::mono_10.png[,906,254] 

Cliquez sur l'icône _Délivrer_ image:icons/icon_deliverBuild.png[,15,15] à droite du Niveau __Monocalendar 1-0 TEST__. 


image::mono_11.png[,551,413] 

Dans l'écran __Créer des Requêtes de niveau__, saisissez une description et sélectionnez la Construction (1) en cliquant sur la rangée contenant la Construction concernée.

[NOTE]
====
Si vous ne remplissez pas le champ __Exécution
demandée__, la Requête de niveau pour délivrer la Construction sera exécutée immédiatement. 
====

Cliquez sur le bouton __Créer__.
L'écran _Bureau_ s`'affichera.
Une Requête de niveau pour délivrer la Construction est créée pour le Niveau TEST de votre Projet. 

Le statut de la Requête de niveau est établi à _En attente de l`'heure d`'exécution_ (image:icons/waiting_datetime.gif[,15,15]) jusqu'à ce qu'elle ne soit traitée par le Serveur IKAN ALM.
Ensuite, le statut sera modifié en _Exécution_ (image:icons/run.gif[,15,15]). 

Dans l`'__Aperçu du Bureau__, cliquez sur le lien _Dernière Requête de niveau_ pour le Niveau de Test.


image::mono_12.png[,922,326] 

L`'écran _Informations détaillées_ s`'affichera.

Cliquez sur le lien _Actualiser_ ou activez la fonction _Actualisation automatique_ dans le sous-menu.
Finalement, la Requête de niveau devrait se terminer avec le statut _Réussie_ (image:icons/succes.gif[,15,15]).


image::mono_13.png[,907,262] 


===== Quel est le résultat de cette action de déploiementvers le Niveau TEST? 

Dans le projet Monocalendar, le Niveau TEST inclut une action de construction qui recompile les sources et crée le fichier ``monocalendar.win32.installer.exe``.
Une action de Déploiement a également été définie sur le Niveau Test.
Elle copie le fichier .exe vers un répertoire où l'Utilisateur peut tester l'installation de l'application Monocalendar en exécutant le fichier d'installation .exe.

Il s'agit du répertoire ``ALM_HOME/environments\Monocalendar\testdeploy\target ``(par exemple, ``C:\ALMDemo\environments\Monocalendar\testdeploy\target``).

Vous pouvez afficher le résultat de la Construction en sélectionnant l'onglet "Résultats" sur la page des Informations détaillées: 


image::mono_14.png[,730,543] 


==== Délivrer la Construction vers le Niveau PRODUCTION 

Pour voir ce qui se passe ensuite dans le Cycle de vie, nous allons délivrer la Construction vers le Niveau PRODUCTION.
Vous pouvez faire cela via le Bureau, de la même manière que celle expliquée pour le Niveau TEST.
Une autre méthode consiste à sélectionner _Requêtes
de niveau > Créer une Requête de niveau_ dans le sous-menu. 


image::mono_15.png[,938,264] 

Cliquez sur l'icône _Délivrer_ image:icons/icon_deliverBuild.png[,15,15]  à droite du Niveau Monocalendar H_1-0 PRODUCTION. 

Saisissez une description, comme vous l'avez fait pour la création de la Requête de niveau pour le Niveau TEST, et sélectionnez le Numéro de construction __1__.
Si vous laissez le champ _Exécution demandée_ vide, la Requête de niveau pour délivrer la Construction sera exécutée immédiatement.

Cliquez sur le bouton __Créer__.

L'écran _Informations détaillées_ s'affichera.


image::mono_16.png[,965,615] 

Une nouvelle Requête de niveau sera créée, avec le statut _En
attente de pré-approbation_ (image:icons/waiting_approval.gif[,15,15] ). Comme une Pré-approbation est associée au Niveau PRODUCTION, un message de notification sera envoyé à tous les membres du Groupe d`'utilisateurs __ALM
User__. 

Le statut de la nouvelle Requête de niveau restera établie à _En attente de pré-approbation_ tant que l'approbation ne sera pas accordée.
Comme l'Utilisateur "global" fait partie du Groupe d`'utilisateurs __ALM User__, sélectionnez _Approbations > Approbations en attente_ dans le menu principal et cliquez sur le bouton _Approuver_ image:icons/approve.gif[,15,15] . 


image::mono_17.png[,747,581] 

Saisissez une description pour l'Approbation et cliquez sur le bouton _Approuver_

Maintenant, la Requête de niveau sera traitée par le Serveur IKAN ALM. 

Retournez à l`'__Aperçu du
Bureau__ en sélectionnant _Bureau_ dans le menu principal.

Le statut de la Requête de niveau est établi à _En attente de l`'heure d`'exécution_ (image:icons/waiting_datetime.gif[,15,15] ) jusqu'à ce qu'elle ne soit traitée par le Serveur IKAN ALM.
Ensuite, le statut sera modifié en _Exécution_ (image:icons/run.gif[,15,15] ). 


image::mono_18.png[,981,308] 

Cliquez sur le lien _Actualiser_ ou activez la fonction _Actualisation automatique_ dans le sous-menu.
Finalement, la Requête de niveau devrait se terminer avec le statut _Réussie_ (image:icons/succes.gif[,15,15]).

[NOTE]
====
Si vous exécutez la version Démo d'IKAN ALM localement, un avertissement de contrôle de compte d'utilisateur s'affichera demandant si vous voulez autoriser le programme `monocalendar.win32.installer.exe` à apporter des modifications à votre ordinateur.
Cliquez sur le bouton _Oui_ pour continuer.
====

===== Quel est le résultat de cette action de déploiementvers le Niveau PRODUCTION?

Dans le projet Monocalendar, le Niveau de Production inclut une action de déploiement.
L'application Monocalendar sera installée et démarrée, il en résulte:


image::aboutmonocalendar.png[,835,459] 


[[_cegcgjif]]
=== Déclencher une Construction planifiée par l'enregistrement d'uneSource 

Vous pouvez vérifier le code Source des projets Démo et enregistrer les modifications.

Installez un client Subversion, par exemple Tortoise SVN, et récupérez le code Source.

L'URL du Référentiel pour le projet Démo "Monocalendar" est __ALM_HOME/vcr/subversion/repository/monocalendar/trunk__.

Modifier un fichier Source et enregistrez-le.
Le Planificateur remarquera les modifications et démarrera la construction du Projet. 
[[_windemo_uninstalling]]
== Désinstaller l'application IKAN ALM Démo 

Pour désinstaller l'application Démo, suivez la procédure suivante:

. Arrêter le Serveur IKAN ALM Démo
** Via le menu contextuel: 
+
__Démarrer > Programmes >
IKAN ALM Demo 5.8 > Stop IKAN ALM Demo server__
** Ou via le fichier batch:
+
Double-cliquez sur le fichier __ALM_HOME/stopDemo.cmd__.
. Exécutez le désinstalleur:
+
Accédez à __Programmes et
fonctionnalités__, sélectionnez l'entrée _IKAN
ALM 5.8_ et cliquez sur __Désinstaller/Modifier__.
. Sélectionnez l'option _Forcer la suppression de ..._ pour supprimer tous les fichiers associés à l'application Démo. Sinon, les fichiers modifiés depuis l'installation seront sauvegardés.
+
image::uninstalldemo.png[,372,247] 
+
. Pendant la désinstallation, la fenêtre suivante s'affichera vous demandant si vous voulez désinstaller la clé de licence:
+
image::uninstalldemo_license.png[,343,174] 
+
Attendez la fin de la désinstallation et, ensuite, cliquez sur le bouton _Quitter_ pour arrêter le désinstalleur:
+
image::uninstalldemo_quit.png[,263,179] 


:sectnums!:

[appendix]
== Appendice Configuration JAAS

Pour l'authentification et l'autorisation des Utilisateurs, IKAN ALM utilise le service d'authentification et d'autorisation Java (JAAS) (voir http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136007.html[
http://www.oracle.com/technetwork/java/javase/tech/index-jsp-136007.html]).

L'installation IKAN ALM Démo préconfigure JAAS automatiquement.
Cet appendice n'est utile que pour la résolution de problèmes ou si vous voulez modifier l`'authentification, par exemple, pour l'utiliser l'Authentification de domaine de Windows.

L'authentification JAAS est réalisée de manière enfichable.
Ainsi les applications peuvent rester indépendantes des technologies d'authentification sous-jacentes.
Les nouvelles technologies d'authentification ou les mises à jour peuvent être enfichées dans IKAN ALM sans nécessiter des modifications à l'application même.

=== Configuration JAAS de l'application IKAN ALM Démo 

L'installation IKAN ALM Démo utilise son propre fichier jaas.config qui se trouve dans __ALM_HOME /system/security__.

Par défaut, le fichier _passwd.config_ est utilisé comme un fichier de sécurité plat.

[NOTE]
====
Pour rendre les modifications visibles, vous devez redémarrer IKAN ALM si vous ajoutez/modifiez un enregistrement dans le fichier de sécurité.
====

=== Implémentation JAAS: Sécurité à fichier plat

L'application IKAN ALM Démo utilise cette implémentation JAAS simple par laquelle les Groupes d`'utilisateurs et les Utilisateurs sont configurés dans un fichier plat.
Dans le fichier de configuration JAAS, cela est spécifié comme suit (où ALM_HOME=`"C:/ALMDemo`"):

[source]
----
/** * IKAN ALM flat file security configuration * Attention : the passwords in the passwd.config file must
be stored in MD5 encryption format **/**/ALM{ com.tagish.auth.FileLogin requiredpwdFile="C:/ALMDemo/system/security/passwd.config";};
----

=== Implémentation JAAS: Authentification de domainede Windows

Si vous voulez utiliser l'Authentification de domaine de Windows, remplacez la configuration à fichier plat par les lignes suivantes (YOURDEMAIN étant le domaine Windows, par exemple, IKAN):

[source]
----
/** Example NTLogin (http://free.tagish.net)* Attention : the module NTSystem.dll must be copied to the
%WIN_HOME%/system32 directory.**/ALM{ com.tagish.auth.win32.NTSystemLogin required returnNames=true
returnSIDs=false defaultDomain=YOURDOMAIN;;
----

=== Sécurité à fichier plat: Contenu

Lorsque l'on utilise la sécurité à fichier plat, le contenu du fichier _passwd.config_ est assez simple et intuitif:

[source]
----
userid:encrypted password:groupname:groupname:groupnameuser:ee11cbb19052e40b07aac0ca060c23ee:ALM Userproject:46f86faa6bbf9ac94a7e459509a20ed0:ALM User:ALM Projectglobal:9c70933aff6b2a6d08c687a6cbb6b765:ALM User:ALM Administrator
----

Vous pouvez générer le mot de passe encrypté en format de cryptage MD5 en utilisant un outil tel que HashCalc (http://www.slavasoft.com/hashcalc/overview.htm[
http://www.slavasoft.com/hashcalc/overview.htm]).

Par exemple: Ajouter un Utilisateur avec comme identifiant Utilisateur "testuser" et comme Mot de passe "testuser" qui appartient au Groupes d'utilisateurs _ALM User_ et _ALM
Project_


image::hashcalc.png[,527,534] 


. Ajoutez l'entrée suivante au fichier __passwd.config__:
+

[source]
----
testuser:5d9c68c6c50ed3d02a2fcf54f63993b6:ALM
User:ALM Project
----
. Arrêtez et redémarrez le Serveur IKAN ALM Démo. <<_chbgjjeb>>
. Connectez-vous à IKAN ALM avec l'identifiant Utilisateur "testuser" et le Mot de passe "testuser".


:sectnums:

:sectnums!:

[[_windemo_troubleshooting]]
[appendix]
== Résolution des problèmes

=== MSVCR71.dll was not found


image::msvcr71notfound.png[,502,172] 

L'installateur de l'application IKAN ALM Démo ne parvient pas à localiser le fichier suivant: __MSVCR71.dll__.
Vous trouverez plus d'informations sur ce sujet sur http://www.duckware.com/tech/java6msvcr71.html[
http://www.duckware.com/tech/java6msvcr71.html].
Cependant, il n'existe pas de bonne solution.
Sun propose de résoudre le problème en copiant le fichier msvcr71.dll du répertoire bin de l'installation Java dans le répertoire où se trouve le fichier __java.exe__, c`'est-à-dire le répertoire__ windows\system32__.

=== Le navigateur Web ne peut pas afficher la page Web


image::ie_cannotdisplay.png[,461,72] 



image::pagenotdisplayed.png[,326,50] 



image::failedtoconnect.png[,630,359] 

Cause: Le Serveur IKAN ALM Démo n'est pas en cours d`'exécution.

Solution:

. Démarrez le Serveur IKAN ALM Démo: _Démarrer > Programmes > IKAN ALM Demo 5.8 > Start IKAN ALM Demo server_
. Actualisez la page _Connexion_ dans votre navigateur Web. 


=== Votre licence a expiré

La période d'essai de 30 jours s'est terminée.
Si vous voulez étendre la période d'essai, vous devez demander une nouvelle licence en envoyant un courrier électronique à __support@ikanalm.com__.

=== L'installateur ne démarre pas et le message d'erreur"Java Runtime not found" s'affiche.

Si vous lancez l'installateur IKAN ALM Démo 32 bits ou 64 bits, le message d'erreur suivant pourrait s'afficher, après lequel l'installateur IKAN ALM Démo s'arrête.


image::JRE_NotFound.png[,435,229] 

La cause la plus probable est qu'aucun environnement Java Runtime (JRE) approprié n'est installé.
L'installateur 32 bits nécessite un JRE 32 bits, tandis que l'installateur 64 bits nécessite un JRE 64 bits.
De plus, la version du JRE doit être 1.6 ou supérieure.
La solution consiste à installer un JRE approprié.

Si, pour une raison quelconque, vous ne voulez pas installer de JRE, vous pouvez contourner cette situation en lançant l'installateur IKAN ALM avec uniquement un Kit de développement Java (JDK) ou un Serveur JRE installé.
Spécifiez la variable d'environnement JAVA_HOME de sorte à ce qu'elle pointe vers le répertoire JDK ou Serveur JRE, soit globalement dans le système, soit à partir d'une fenêtre de ligne de commande, et lancez l'installateur IKAN ALM.
Si vous spécifiez JAVA_HOME à partir de la fenêtre de ligne de commande, il y a deux pièges potentiels:

* Ne mettez pas le chemin JAVA_HOME entre guillemets, même s'il contient des espaces
* Si le Contrôle de compte d'utilisateur (UAC) est activé (Windows Vista et supérieur), la fenêtre de la ligne de commande nécessite des droits d'accès d'Administrateur (l'intitulé de la fenêtre doit commencer par "Administrator:")


:sectnums: