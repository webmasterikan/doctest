
== Level Requests 
(((Desktop ,Level Requests)))  
(((Level Requests))) 

Level Requests are action requests in relation to a Level.

From a logical point of view, they are requests to _create_ a Build on a Build Level, to _deliver_ a Build to the next Level (Test or Production) or to__ rollback__ a Build on a Level (Test or Production) defined in the applicable Lifecycle.

From a physical point of view, Level Requests can match a Build with or without a Deploy, a Rebuild with or without a Deploy or just a Deploy.

The following sections describe these Level Request types in detail:

* <<Desktop_LevelRequests.adoc#_srebuildlr,(Re)Build Level Requests>>
* <<Desktop_LevelRequests.adoc#_srebuildanddeploylr,(Re)Build and Deploy Level Requests>>
* <<Desktop_LevelRequests.adoc#_sdeploylr,Deploy Level Requests>>


The following sections deal with the procedures involved when creating new Level Requests:

* <<#_desktop_lr_createlevelrequest_selectlevel,>>
* <<#_desktop_lr_createlevelrequest_build,>>
* <<#_desktop_lr_createlevelrequest_deliver,>>
* <<#_desktop_lr_createlevelrequest_rollback,>>


The following sections deal with the procedures involved when using the __Level Requests Overview__:

* <<Desktop_LevelRequests.adoc#_desktop_lr_overview,Level Requests Overview>>
* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_buildsdeploysoverview,Builds and Deploys Overview>>


The following section deals with the Build History:

* <<Desktop_LevelRequests.adoc#_desktop_lr_buildhistory,Build History Screen>>


[[_desktop_lr_actionflows]]
=== Level Request Action Flows

The following sections describe how Level Requests are handled once they have been created, with the default behavior as starting point.
When adapting the <<ProjAdm_Levels.adoc#_plevelenvmgt_editlevelphases>>, the <<ProjAdm_BuildEnv.adoc#_projadm_buildenv_editphase>> or the <<ProjAdm_DeployEnv.adoc#_projadm_deployenv_phaseedit>>, this will result in an action flow differing from this default flow. 

The following different action flows are possible, depending on the composition of the Level (the Level Type and the related Build and/or Deploy Environment(s)):

* <<Desktop_LevelRequests.adoc#_srebuildlr,(Re)Build Level Requests>>
* <<Desktop_LevelRequests.adoc#_srebuildanddeploylr,(Re)Build and Deploy Level Requests>>
* <<Desktop_LevelRequests.adoc#_sdeploylr,Deploy Level Requests>>


[[_srebuildlr]]
==== (Re)Build Level Requests 
(((Level Requests ,Build)))  
(((Level Requests ,Rebuild))) 

The following graphic displays the action flow of a Build Level Request or a Rebuild Level Request.
If the <<ProjAdm_Levels.adoc#_plevelenvmgt_editlevelphases>> or the <<ProjAdm_BuildEnv.adoc#_projadm_buildenv_editphase>> have been modified, the sequence of actions may be different.

The Build Level Request is generated for the first Level in a Lifecycle, e.g., a Level on which a Nightly Build (or even a Continuous Build) is executed to verify the stability of the latest sources in the VCR.
Usually, such a Level has one Build Environment.

The Rebuild Level Request on a Level later on in the Lifecycle will not be executed on the latest sources, but on code that has already been tagged during the Build Level Request on a previous Level. 

[NOTE]
====
The main difference between a Build and a Rebuild is step 19. 

If the answer is __No__, the Build was not done with the latest sources, but with previous tagged sources and the Level Request is a Rebuild.
If the answer is __Yes__, the build was done with the latest sources from the VCR and the Level Request is a Build. 

Other differences between Build and Rebuild are indicated in the table describing the action flow.
====

image::images/Desktop-LevelRequests-Flow-Build.png[,872,1262] 


[cols="1,1", frame="topbot", options="header"]
|===
| Step
| Description


|1.
|A Level Request is created manually by the User (via the <<#_desktop_lr_createlevelrequest_selectlevel,>> or the <<CommandLine.adoc#_pcommandline_clr_optionsparameters>>) or automatically by the Scheduler.

A Build Level Request directly goes on to step 5; a Rebuild Level Request may pass steps 2, 3 and/or 4.

|2.
|The Monitor Process on the IKAN ALM Server picks up the created Level Request and sends the required Pre- and Post-Notifications.

This is an optional step in case of a Rebuild, since there are no Pre- or Post Notifications on a Build Level.

If required, the Pre- and Post-Approval groups are defined on the <<ProjAdm_Levels.adoc#_levelenvmgt_approvalsequence>>.

|3.
|The Monitor generates the required Pre- and Post-Approvals.
This is an optional step in case of a Rebuild, since there are no Pre- or Post Notifications on a Build Level.

If required, the Pre- and Post-Approval groups are defined on the <<ProjAdm_Levels.adoc#_levelenvmgt_approvalsequence>>.

|4.
|As soon as one of the Approvals is <<Desktop_Approvals.adoc#_desktop_outstandingapprovalsreject>>, the Monitor sets the Level Request status to _Reject_ and the action flow is terminated.

This step is optional in case of a Rebuild.

|5.
|If all Approvals of a Rebuild with Pre- or Post-Approval(s) are <<Desktop_Approvals.adoc#_desktop_outstandingapprovalsapprove>>, and if the requested Date/Time is reached, the Monitor sets the Level Request status to _Run_ and retrieves the Source Code from the VCR to a subdirectory of the Work Copy location on the IKAN ALM Server.

This location is defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>.

If the Project Stream in which this Build is done, is Master for one or more Child Project Streams, the Sources or the Build Result (depending on the Dependency Type) of these Child Project Streams will also be retrieved from the VCR, respectively from the Build Archive, to the Work Copy location.

|6.
|If the Retrieval process fails, the Monitor sets the Build Status of all Builds related to the Level Request to __Cancel__, the Level Request Status to _Fail_ and the action flow is terminated.

|7.
|If the Retrieval process succeeds, the Monitor sets the Build Status of all Builds related to the Level Request to __Ready__.
Since a (Re)Build Level Request may have more than one Build, steps 8 till 18 will be performed for each Build related to the Level Request.

|8.
|As the Build Status is set to __Ready__, the Builder Agent on the Machine(s) where a Build must be executed, picks up this _Ready_ status and transports the Source Code from the Work Copy Location on the IKAN ALM Server to the Build Environment Source Location, defined on this Machine and for this Build Level. 

Which transport action (local FileCopy, remote FileCopy, SecureCopy or FTP) will be used depends on the type of Transporter that is linked to the Machine containing the Build Environment.
Refer to the section <<#_projadm_buildenvironments,>>.

If this process fails, steps 9 and 10 are performed.

If this process succeeds, step 11 is performed.

|9.
|The Builder sets the Build Status to__ Fail__.

|10.
|If the Monitor picks up the _Fail_ Build Status, it sets the Level Request status to _Fail_ as well and the action flow is terminated.

|11.
|If the Source Transport process succeeds, the Builder Agent verifies the Build Script.
This process comprises two phases.

__In the first phase__, the Builder Agent determines which Build Script must be used.
If a specific Build Script was defined for the <<ProjAdm_BuildEnv.adoc#_projadm_buildenvironments>>, the Builder assumes it must locate and use this Build Script.
If no specific Build Script was defined for the Build Environment, the Builder assumes it must locate and use the Build Script defined in the <<ProjAdm_Projects.adoc#_projadmin_projectsoverview_viewing>>. 

__In the second phase__, the Builder tries to locate the Build Script it has determined it must use during the first phase.
First the Builder searches checked-out source code available in the Source Location of the Build Environment.
If the Build Script is found, the Verify Build Script process succeeds and step 12 will be performed.
If the Build Script is not found in the checked-out source code, the Builder searches the default IKAN ALM Script Location as defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>. 

If the Build Script is found, it will be transported to the Build Environment Source Location defined on this Machine and for this Build Level.
The same transport mechanism will be used as for the Source Code.
The Verify Build Script process succeeds and step 12 will be performed. 

If the Build Script is not found here either, or if the transport process from the IKAN ALM Script Location does not succeed, the Verify Build Script action fails and steps 9 and 10 are performed.

|12.
|If the Build Script Verification process succeeds, the Builder Agent executes the Build Script.

First, the Build Script is provided with the following parameters: Build Script Location, Source Location, Target Location, standard IKAN ALM parameters and user-defined Build Parameters.

Then, the defined Build Tool for the Build Environment (Ant, Gradle, NAnt or Maven2) generates the Build artifacts (e.g., executables, libraries, ...). The Build Script should include a copy mechanism that transfers minimum one Build artifact to the Target Location of the Build Environment.
Only the Build artifacts in the Target Location will be available if the Build Result must be deployed later on.

If this operation fails, steps 9 and 10 are performed.

If this operation succeeds, step 13 is performed.

|13.
|If the Build Script is executed successfully, the Builder Agent checks if the Build result will be deployed on Levels higher up in the Lifecycle.
This is the case when a Deploy Environment of such a Level is linked to the Build Environment on which this Build is executed.
If that is the case, the Builder Agent will try to add the Deploy Script to the Build result.

If a Deploy Script is available on the Build Source Location (as retrieved together with the Source Code from the VCR), this Deploy Script is copied to the Build Target Location.
As the failure of this step is not blocking, step 14 is performed next, whether the operation was successful or not.

|14.
|The Builder Agent compresses the Build artifacts on the Build Environment Target Location.
Depending on the Operating System of the IKAN ALM server holding the Build Archive, a *.zip or *.tar.tgz will be created.

If this operation fails, steps 9 and 10 are performed.

If this operation succeeds, step 15 is performed.

|15.
|The Builder Agent archives the Compressed Build to the Build Archive on the IKAN ALM Server.

The Build Archive Location on the IKAN ALM Server is defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>.

Which transport action (local FileCopy, remote FileCopy, SecureCopy or FTP) will be used depends on the type of Transporter that is linked to the Machine containing the Build Environment.

If this operation fails, steps 9 and 10 are performed.

If this operation succeeds, step 16 is performed.

|16.
|The Builder Agent cleans up the Source Location on the Build Environment.
This means that all files used to create the Build Result (Source files, Build Script and possibly Deploy Script) are deleted.

If the Debug option is activated for a Build Environment, the Source Cleanup action will not be performed, so that the User may use the available sources to run the Build Script manually for testing purposes

As the failure of this step is not blocking, step 17 is performed next, whether the operation was successful or not.

|17.
|The Builder Agent cleans up the Target Location on the Build Environment.

This means that all available files (the uncompressed and compressed Build Result as well as the Deploy Script) are deleted.

If Debug is activated for a Build Environment, the Target Cleanup action will not be performed, so that the user may inspect the Build Result on the Build Environment.

As the failure of this step is not blocking, step 18 is performed next, whether the operation was successful or not.

|18.
|The Build Agent sets the Build Status.

If all Builder actions (steps 8, 11, 12, 13, 14, 15, 16 and 17) were executed successfully, the Build Status will be set to __Success__.

If Builder actions 13, 16 and/or 17 failed, the Build will be set to __Warning__.

(If another action failed, the Build Status will be set to Fail as indicated by steps 9 and 10)

|19.
|The Monitor checks if the status of all Builds related to the Level Request have been set to _Success_ or __Warning__.
Then it verifies if the Build has been executed on the latest sources from the VCR, which is typical for the first Build Level in the Lifecycle of a Project Stream.
In this case step 20 will be performed next.

Otherwise, the Build has been executed on Code that was tagged before, and the Build is most likely a __Rebuild
based on tagged code__, generated on the Build Environment belonging to a Test or Production Level.
An exception is the Build on a Build Level in a Tag-based Project Stream: although it is not a Rebuild, this Build will always be executed on sources that have been tagged by the user before.
In this case step 20 will also be skipped and the next step will be step 22.

|20.
|The Monitor tags the code in the VCR if the Build was executed on the latest sources.

|21.
|If the Tagging Process fails, the Monitor will set the Level Request status to _Fail_ and the action flow is terminated.

|22.
|If the Tagging Process is successful or if it was skipped because the Code was already tagged, the Monitor cleans up the used subdirectories in the Work Copy Location on the IKAN ALM Server.

This means that all files retrieved from the VCR or from the Build Archive are deleted.

As the failure of this step is not blocking, step 23 is performed next, whether the operation was successful or not.

|23.
|The Monitor Process on the IKAN ALM Server determines the final Level Request status.

The final Level Request Status is set to __Success__, if all Monitor actions (in yellow) were executed successfully and the Build Status has been set to __Success__.

The final Level Request Status is set to __Warning__, if at least one non-blocking Monitor Action failed and/or the Build Status has been set to __Warning__.

|24.
|The required Notifications are sent.

All Users belonging to the User Group with User Access Rights or the User Group with Admin Access Rights (both defined on the <<GlobAdm_Project.adoc#_globadm_projectcreate>> screen) receive the required notifications, as well as the Users having Request Rights on the Level.

The Notification type (mail, netsend) and the Notification criteria (if Level Request Status is SUCCESS, FAIL, WARNING or ALWAYS) are defined in the sections <<#_plevelenvmgt_createbuildlevel,>>, <<#_plevelenvmgt_createtestorproductionlevel,>> or <<ProjAdm_Levels.adoc#_plevelenvmgt_editlevel,Editing a Level>>.
|===

[[_srebuildanddeploylr]]
==== (Re)Build and Deploy Level Requests 
(((Level Requests ,Build and Deploy)))  
(((Level Requests ,Rebuild and Deploy))) 

The following graphic displays the action flow of a Build and Deploy Level Request or a Rebuild and Deploy Level Request.

The (Re)Build and Deploy Level Request may be created on any Level in the Lifecycle, e.g., as a Build and Deploy Level Request on the (first) Build Level that has a Deploy Environment to directly deploy the Build Result of the latest sources for integration testing, or on a QA Test Level which is very similar to the Production Level, and where a Rebuild is done so that the Build Result may be deployed later on to a Production Level. 

The following section describes the default Action Flow.
If the <<ProjAdm_Levels.adoc#_plevelenvmgt_editlevelphases>>, the <<ProjAdm_BuildEnv.adoc#_projadm_buildenv_editphase>> or the <<ProjAdm_DeployEnv.adoc#_projadm_deployenv_phaseedit>> have been modified, the sequence of actions may be different.

[NOTE]
====
The main difference between a Build and a Rebuild is step 19. 

If the answer is __No__, the build was not done with the latest sources, but with previous tagged sources and the Level Request is a Rebuild.
If the answer is __Yes__, the build was done with the latest sources from the VCR and the Level Request is a Build.

Other differences between Build and Rebuild are indicated in the table describing the action flow.
====

image::images/Desktop-LevelRequests-Flow-BuildAndDeploy.png[,891,1238] 


[cols="1,1", frame="topbot", options="header"]
|===
| Step
| Description


|1.
|A Level Request is created manually by the User (via the <<#_desktop_lr_createlevelrequest_selectlevel,>> or the <<CommandLine.adoc#_pcommandline_clr_optionsparameters>>) or automatically by the Scheduler.

A Build Level Request directly goes on to step 5, a Rebuild Level Request may pass steps 2,3 and/or 4.

|2.
|The Monitor Process on the IKAN ALM Server picks up the created Level Request and sends the required Pre- and Post-Notifications.

This is an optional step in case of a Rebuild, since there are no Pre- or Post Notifications on a Build Level.

If required, the Pre- and Post-Notification groups are defined on the <<ProjAdm_Levels.adoc#_levelenvmgt_approvalsequence>>.

|3.
|The Monitor generates the required Pre- and Post-Approvals.
This is an optional step in case of a Rebuild, since there are no Pre- or Post Notifications on a Build Level.

If required, the Pre- and Post-Approval groups are defined on the <<ProjAdm_Levels.adoc#_levelenvmgt_approvalsequence>>).

|4.
|As soon as one of the Approvals is <<Desktop_Approvals.adoc#_desktop_outstandingapprovalsreject>>, the Monitor sets the Level Request status to _Reject_ and the action flow is terminated.

This step is optional in case of a Rebuild

|5.
|If all Approvals of a Rebuild with Pre- or Post-Approval(s) are <<Desktop_Approvals.adoc#_desktop_outstandingapprovalsapprove>> and if the requested Date/Time is reached, the Monitor sets the Level Request status to _Run_ and retrieves the Source Code from the VCR to a subdirectory of the Work Copy location on the IKAN ALM Server.

This location is defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>.

If the Project Stream in which this Build is done, is Master for one or more Child Project Streams, the Sources or the Build Result (depending on the Dependency Type) of these Child Project Streams will also be retrieved from the VCR, respectively from the Build Archive, to the Work Copy location.

|6.
|If the Retrieval process fails, the Monitor sets the Build and Deploy Status of all Builds and Deploys related to the Level Request to __Cancel__, the Level Request Status to _Fail_ and the action flow is terminated.

|7.
|If the Retrieval process succeeds, the Monitor sets the Build Status of all Builds related to the Level Request to __Ready__.
Since a (Re)Build and Deploy Level Request may have more than one Build, steps 8 till 18 will be performed for each Build related to the Level Request.

|8.
|As the Build Status is set to __Ready__, the Builder Agent on the Machine(s) where a Build must be executed, picks up this _Ready_ status and transports the Source code from the Work Copy Location on the IKAN ALM Server to the Build Environment Source Location, defined on this Machine and for this Build Level. 

Which transport action (local FileCopy, remote FileCopy, SecureCopy or FTP) will be used depends on the type of Transporter that is linked to the Machine containing the Build Environment.
Refer to the section <<#_projadm_buildenvironments,>>.

If this process fails, steps 9 and 10 are performed.

If this process succeeds, step 11 is performed.

|9.
|The Builder sets the Build Status to __Fail__.

|10.
|If the Monitor picks up the _Fail_ Build Status, it sets the Level Request status to _Fail_ as well, and the action flow is terminated.

|11.
|If the Source Transport process succeeds, the Builder Agent verifies the Build Script.
This process comprises two phases. 

__In the first phase__, the Builder Agent determines which Build Script must be used.
If a specific Build Script was defined for the <<ProjAdm_BuildEnv.adoc#_projadm_buildenvironments>>.
The Builder assumes it must locate and use this Build Script.
If no specific Build Script was defined for the Build Environment, the Builder assumes it must locate and use the Build Script defined on the <<ProjAdm_Projects.adoc#_projadm_projects>> screen.

__In the second phase__, the Builder tries to locate the Build Script it has determined it must use in the first phase.
First it searches in the checked out source code available in the Source Location of the Build Environment. 

If the Build Script is found, the Verify Build Script process succeeds and step 12 will be performed.
If the Build Script is not found in the checked out source code, the Builder searches the default IKAN ALM Script Location as defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>. 

If the Build Script is found, it will be transported to the Build Environment Source Location defined on this Machine and for this Build Level.
The same transport mechanism will be used as for the Source Code.
The Verify Build Script process succeeds and step 12 will be performed. 

If the Build Script is not found here either, or if the transport process from the IKAN ALM Script Location does not succeed, the Verify Build Script action fails and steps 9 and 10 are performed.

|12.
|If the Build Script Verification process succeeds, the Builder Agent executes the Build Script.

First, the Build Script is provided with the following parameters: Build Script Location, Source Location, Target Location, standard IKAN ALM parameters and user-defined Build Parameters.

Then the defined Build Tool for the Build Environment (Ant, Gradle, NAnt or Maven2) generates the Build (e.g., executables, libraries,...). The Build Script should include a copy mechanism that transfers minimum one Build artifact to the Target Location of the Build Environment.
Only the Build artifacts in the Target Location will be available if the Build Result must be deployed later on.

If this operation fails, steps 9 and 10 are performed.

If this operation succeeds, step 13 is performed.

|13.
|If the Build Script execution is successful, the Builder Agent checks if the Build result will be deployed in this Level (most likely, since it is a (Re)Build and Deploy Level Request), or on Levels higher up in the Lifecycle.
This is the case when a Deploy Environment of this Level or of a higher Level is linked to the Build Environment on which this Build is executed.
If that is the case, the Builder Agent will try to add the Deploy Script to the Build result.

If a Deploy Script is available on the Build Source Location (as retrieved together with the Source Code from the VCR), this Deploy Script is copied to the Build Target Location.

As the failure of this step is not blocking, step 14 is performed next, whether the operation was successful or not

|14.
|The Builder Agent compresses the Build artifacts on the Build Environment Target Location.
Depending on the Operating System of the IKAN ALM Server holding the Build Archive, a *.zip or *.tar.tgz file will be created.

If this operation fails, steps 9 and 10 are performed.

If this operation succeeds, step 15 is performed.

|15.
|The Builder Agent archives the compressed Build to the Build Archive on the IKAN ALM Server.

The Build Archive Location on the IKAN ALM Server is defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>.

Which transport action (local FileCopy, remote FileCopy, SecureCopy or FTP) will be used depends on the type of Transporter that is linked to the Machine containing the Build Environment.

If this operation fails, steps 9 and 10 are performed.

If this operation succeeds, step 16 is performed.

|16.
|The Builder Agent cleans up the Source Location on the Build Environment.

This means that all files used to create the Build result (Source files, Build Script and possibly Deploy Script) are deleted.

If the Debug option is activated for a Build Environment, the Source Cleanup action will not be performed, so that the User may use the available sources to run the Build Script manually for testing purposes.

As the failure of this step is not blocking, step 17 is performed next, whether the operation was successful or not.

|17.
|The Builder Agent cleans up the Target Location on the Build Environment.

This means that all available files (uncompressed and compressed Build Result as well as the Deploy Script) are deleted.

If Debug is activated for a Build Environment, the Target Cleanup action will not be performed, so that the user may inspect the Build Result on the Build Environment.

As the failure of this step is not blocking, step 18 is performed next, whether the operation was successful or not.

|18.
|The Build Agent sets the Build Status.

If all Builder actions (steps 8, 11, 12, 13, 14, 15, 16 and 17) were executed successfully, the Build Status will be set to __Success__.

If Builder actions 13, 16 and/or 17 failed, the Build Status will be set to __Warning__.(If another action failed, the Build Status will be set to _Fail_ as indicated by steps 9 and 10).

|19.
|The Monitor checks if the status of all Builds related to the Level Request have been set to _Success_ or __Warning__.
Then it verifies if the Build has been executed on the latest sources from the VCR, which is typical for the first Build Level in the Lifecycle of a Project Stream.
In this case, step 20 will be performed next.

If the Build has been executed on Code that was ALREADY tagged, the Build is most likely a Rebuild based on tagged code, generated on the Build Environment belonging to a Test or Production Level.
An exception is the Build on a Build Level in a Tag-based Project Stream: although it is not a Rebuild, this Build will always be executed on sources that have been tagged by the user before.
In this case step 20 will also be skipped and the next step will be step 22.

|20.
|If the Build was executed on the latest sources, the Monitor tags the code in the VCR.

|21.
|If the Tagging Process fails, the Monitor will set the Level Request status to Fail and the action flow is terminated.

|22.
|If the Tagging Process is successful or if it was skipped because the Code was already tagged, the Monitor cleans up the used subdirectories of the Work Copy on the IKAN ALM Server.

This means that all files retrieved from the VCR are deleted.

As failure of this step is not blocking, step 23 is performed next, whether the operation was successful or not.

|23.
|The Monitor sets the Deploy Status of all Deploy actions to __Ready__.

|24.
|As the Deploy Status is set to __Ready__, the Deploy Agent on the Machine(s) where a Build must be deployed, picks up this _Ready_ status.
It then transports the compressed Build Result from the Build Archive to the Deploy Environment Source Location for this Level.

Which transport action (local FileCopy, remote FileCopy, SecureCopy or FTP) will be used depends on the type of Transporter that is linked to the Machine containing the Deploy Environment.
Refer to the section <<#_projadm_deployenvironments,>>.

If this process fails, steps 25 and 26 are performed.

If this process succeeds, step 27 is performed.

|25.
|The Deployer sets the Deploy Status to __Fail__.

|26.
|If the Monitor picks up one Deploy with _Fail_ Status, it sets the Level Request status to _Fail_ as well and the action flow is terminated.

|27.
|If the Transport Build Result process succeeds, the Deployer Agent decompresses the Build file (containing the result from a preceding Build action and the Deploy script) into the Deploy Environment Source Location.
(This is the same location as to which the compressed Build was transported.)

If this process fails, steps 25 and 26 are performed.

If this process succeeds, step 28 is performed.

|28.
|If the Decompress process succeeds, the Deployer Agent verifies the Deploy Script.
This process comprises two phases.

__In the first phase__, the Deployer Agent determines which Deploy Script it must use.
First, it verifies if a specific Deploy Script was defined for the Deploy Environment (<<#_projadm_deployenvironments,>>). If this is the case, the Deployer assumes it must locate and use this Deploy Script.

If no specific Deploy Script was defined for the Deploy Environment, the Deployer assumes it must locate and use the Deploy Script defined on the <<ProjAdm_Projects.adoc#_projadm_projects>> screen.

If no Deploy Script was defined there either, the Verify Deploy Script process fails and steps 25 and 26 are performed.

__In the second phase__, the Deployer tries to locate the Deploy Script it has determined it must use in the first step.
First it searches the decompressed Build Result in the Source location of the Deploy Environment (<<#_projadm_deployenvironments,>>). If the Deploy Script is found, the Verify Deploy Script process succeeds and step 29 will be performed.

If the Deploy Script is not found in the decompressed Build result, the Deployer searches the default IKAN ALM Script Location as defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>.

If the Deploy Script is found, it will be transported to the Deploy Environment Source Location, defined on this Machine and for this Level.
The same transport mechanism will be used as for the Build Result.
The Verify Deploy Script process succeeds and step 29 will be performed.

If the Build Script is not found here either or the transport from the IKAN ALM Script Location does not succeed, the Verify Deploy Script action fails and steps 25 and 26 are performed.

|29.
|If the Verify Deploy Script process succeeds, the Deployer Agent executes the Deploy Script.

The Deploy Script is provided with the following parameters: Source Location, Target Location, standard IKAN ALM Parameters and user-defined Deploy Parameters.

The defined Deploy Tool (Ant, Gradle, NAnt or Maven2) for the Deploy Environment deploys the Build to the Target Location.

If this operation fails, steps 25 and 26 are performed.

If this operation succeeds, step 30 is performed.

|30.
|If the Deploy is successful, the Deploy Agent cleans up the Build Result on the Deploy Environment Source Location for this Level.

If the Debug option is activated for a Deploy Environment, the Clean-up Build Result action will not be performed, so that the user may use the available Build Result to run the deploy script manually for testing purposes.

As failure of this step is not blocking, step 31 is performed next, whether the operation was successful or not.

|31.
|The Deploy Agent sets the Deploy Status.

If all Deployer actions (steps 24, 27, 28, 29 and 30) were executed successfully, the Deploy Status will be set to __Success__.

If Deployer action 30 (Clean up Build) failed, the Deploy Status will be set to __Warning__.

(If another action failed, the Deploy Status will be set to _Fail_ as indicated by steps 25 and 26).

|32.
|As soon as the Monitor Process on the IKAN ALM Server finds that all Deploy actions connected to a Level Request have the _Success_ or _Warning_ Status, it determines the final Level Request status.

The final Level Request Status is set to __Success__, if all Monitor actions (in yellow) were executed successfully and both the Build Statuses and the Deploy Statuses have been set to __Success__.

The final Level Request Status is set to __Warning__, if at least one non-blocking Monitor action _failed_ and/or the Build Statuses and/or the Deploy Statuses have been set to __Warning__.

|33.
|The required Notifications are sent.

All Users belonging to the User Group with User Access Rights or the User Group with Admin Access Rights (both defined on the <<GlobAdm_Project.adoc#_globadm_projectcreate>> screen) receive the required notifications, together with the users that have Request Rights on the Level.

The Notification type (mail, netsend) and the Notification criteria (if Level Request Status is SUCCESS, FAIL, WARNING or ALWAYS) are defined in the sections <<#_plevelenvmgt_createbuildlevel,>>, <<#_plevelenvmgt_createtestorproductionlevel,>> or <<ProjAdm_Levels.adoc#_plevelenvmgt_editlevel,Editing a Level>>.
|===

[[_sdeploylr]]
==== Deploy Level Requests 
(((Level Requests ,Deploy))) 

The following graphic displays the action flow of a Deploy Level Request. 

The Deploy Level Request is always executed for a Level after the Build Level in a Lifecycle, e.g., a QA Test Level which is very similar to the Production Level, or the Production Level itself.
Most often, such a Level has one or more Deploy Environments, and will reuse the Build Result that has been created on Levels with a Build Environment earlier in the Lifecycle.

[NOTE]
====
The following section describes the default Action Flow. 

If the <<ProjAdm_Levels.adoc#_plevelenvmgt_editlevelphases>> or the <<ProjAdm_DeployEnv.adoc#_projadm_deployenv_phaseedit>> have been modified, the sequence of actions may be different.
====


image::images/Desktop-LevelRequests-Flow-Deploy.png[,759,1067] 


[cols="1,1", frame="topbot", options="header"]
|===
| Step
| Description


|1.
|A Level Request is created manually by the User (via the <<#_desktop_lr_createlevelrequest_selectlevel,>> or the <<CommandLine.adoc#_pcommandline_clr_optionsparameters>>) or automatically by the Scheduler.

|2.
|The Monitor Process on the IKAN ALM Server picks up the Level Request and optionally sends the required Pre- and Post-Notifications.

The Pre- and Post-Notification groups are optionally defined on the <<ProjAdm_Levels.adoc#_levelenvmgt_approvalsequence>>.

|3.
|The Monitor optionally generates the required Pre- and Post-Approvals.

The Pre- and Post-Approval groups are optionally defined on the <<ProjAdm_Levels.adoc#_levelenvmgt_approvalsequence>>.

|4.
|As soon as one of the Approvals is <<Desktop_Approvals.adoc#_desktop_outstandingapprovalsreject>>, the Monitor sets the Level Request status to _Reject_ and the action flow is terminated.

|5.
|When the Level Request is <<Desktop_Approvals.adoc#_desktop_outstandingapprovalsapprove>>, and the requested Date/Time is reached, the Monitor sets the Level Request status to __Run__.
Then the Monitor sets the Deploy Status of all Deploys related to the Level Request to __Ready__.
Since a Deploy Level Request may have more than one Deploy, steps 6 till 10 will be performed for each Deploy related to the Level Request.

|6.
|As the Deploy Status is set to __Ready__, the Deploy Agent on the Machine(s) where a Build must be deployed, picks up this _Ready_ status.
It then transports the compressed Build Result from the Work Copy Location to the Deploy Environment Source Location defined on this Machine and for this Level. 

Which transport action (local FileCopy, remote FileCopy, SecureCopy or FTP) will be used depends on the type of Transporter that is linked to the Machine containing the Deploy Environment.
Refer to the section <<#_projadm_deployenvironments,>>.

If this process fails, steps 7 and 8 are performed.

If this process succeeds, step 9 is performed.

|7.
|The Deployer sets the Deploy Status to __Fail__.

|8.
|If the Monitor picks up the Fail Deploy Status, it sets the Level Request status to _Fail_ as well and the action flow is terminated.

|9.
|If the Transport Build Result succeeds, the Deployer Agent decompresses the Build File into the Deploy Environment Source Location.
(This is the same location as the location to which the compressed Build was transported.)

If this process fails, steps 7 and 8 are performed.

If this process succeeds, step 10 is performed.

|10.
|If the Decompress process succeeds, the Deployer Agent verifies the Deploy Script.
This process comprises two phases.

__In the first phase__, the Deployer Agent determines which Deploy Script it must use.
First, it verifies if a specific Deploy Script was defined for the <<ProjAdm_DeployEnv.adoc#_projadm_deployenvironments>>.
If this is the case, the Deployer assumes it must locate and use this Deploy Script.
If no specific Deploy Script was defined for the Deploy Environment, the Deployer assumes it must locate and use the Deploy Script defined on the <<ProjAdm_Projects.adoc#_projadm_projects>> screen.

__In the second phase__, the Deployer tries to locate the Deploy Script it has determined it must use during the first phase.
First it searches the decompressed Build Result in the Source location of the Deploy Environment.
If the Deploy Script is found, the Verify Deploy Script process succeeds and step 11 will be performed.

If the Deploy Script is not found in the decompressed Build result, the Deployer searches the default IKAN ALM Script Location as defined in the <<GlobAdm_System.adoc#_globadm_system_settings>>.

If the Deploy Script is found it will be transported to the Deploy Environment Source Location, defined on this Machine and for this Level.
The same transport mechanism will be used as for the Build Result.
The Verify Deploy Script process succeeds and step 11 will be performed.

If the Deploy Script is not found here either or the transport from the IKAN ALM Script Location does not succeed, the Verify Deploy Script action fails and steps 7 and 8 are performed

|11.
|If the Verify Deploy Script process succeeds, the Deployer Agent executes the Deploy Script.

First the Deploy Script is provided with the following parameters: Source Location, Target Location, standard IKAN ALM Parameters and user-defined Deploy Parameters.

The defined Deploy Tool for the Deploy Environment (Ant, Gradle, NAnt or Maven2) deploys the Build to the Target Location.

If this operation fails, steps 7 and 8 are performed.

If this operation succeeds, step 12 is performed.

|12.
|If the Deploy is successful, the Deploy Agent cleans up the Build Result on the Deploy Environment Source Location for this Level.

If the Debug option is activated for a Deploy Environment, the Clean-up Build Result action will not be performed, so that the user may use the available Build Result to run the deploy script manually for testing purposes.

As the failure of this step is not blocking, step 13 is performed next, whether the operation was successful or not.

|13.
|The Deploy Agent sets the Deploy Status.

If all Deployer actions (steps 6, 9, 10, 11 and 12) were executed successfully, the Deploy Status is set to Success.

If Deployer action 12 (Clean up Build) failed, the Deploy Status will be set to Warning.

(If another action failed, the Deploy Status will be set to Fail as indicated by steps 7 and 8).

|14.
|As soon as the Monitor Process on the IKAN ALM Server detects a Deploy with Deploy Status _Success_ or __Warning__, it determines the final Level Request status.

The final Level Request Status is set to __Success__, if all Monitor actions (in yellow) were executed successfully and the Deploy Status has been set to __Success__.

The final Level Request Status is set to __Warning__, if the Deploy Status has been set to __Warning__.

|15.
|The required Notifications are sent.

All Users belonging to the User Group with User Access Rights or the User Group with Admin Access Rights (both defined on the <<GlobAdm_Project.adoc#_globadm_projectcreate>> screen) receive the required notifications, together with the users that have Request Rights on the Level.

The Notification type (mail, netsend) and the Notification criteria (if Level Request Status is SUCCESS, FAIL, WARNING or ALWAYS) are defined in the sections <<#_plevelenvmgt_createbuildlevel,>>, <<#_plevelenvmgt_createtestorproductionlevel,>> or <<ProjAdm_Levels.adoc#_plevelenvmgt_editlevel,Editing a Level>>.
|===

[[_desktop_lr_creatinglevelrequest]]
=== Creating Level Requests 
(((Level Requests ,Creating))) 

The following sections deal with the procedures involved when creating new Level Requests:

* <<#_desktop_lr_createlevelrequest_selectlevel,>>
* <<#_desktop_lr_createlevelrequest_build,>>
* <<#_desktop_lr_createlevelrequest_deliver,>>
* <<#_desktop_lr_createlevelrequest_rollback,>>


[NOTE]
====

If you often need to create Level Requests for specific Levels, you can assign them to one of your Desktop Tab Pages. <<#_managedesktop_addingelements,>>

This way, you will be able to easily create Level Requests by simply clicking an icon.
====

==== The Create Level Request: Select Level Screen
(((Level Requests ,Creating ,Selecting a Level))) 

. Select _Level Requests > Create Level Request_ on the Main Menu.
+
The _Create Level Request: Select Level_ screen is displayed:
+
image::images/Desktop-LevelRequests-Create.png[,912,450] 
+
. Define search criteria on the _Search Project Stream_ panel.
+
Level Requests are always defined for a Project Stream.
+
If you do not immediately find the required Project Stream on the Overview, define search criteria for Projects and/or Project Streams in the _Search Project Stream_ panel.
. Verify the information on the _Project Streams Overview_ screen.
+
The Project Streams and Levels matching the search criteria, are displayed below the __Search Project Stream __panel.
If no search criteria were defined, all available Levels and Project Streams will be displayed.
+
The following information is available for each displayed Level.
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description


|Project Stream
a|This field contains the identification of the Project Stream.

This name is composed of:

* Project Name
* Project Stream Type: H (Head) or B (Branch)
* Project Stream Prefix, optionally followed by the Suffix in case of a Branch Project Stream

Example: `Webpad H_1-0`

|Level
a|This field contains the name and type of the Level.

There are three Level Types:

* Build
* Test
* Production

See the sections <<#_plevelenvmgt_createbuildlevel,>> and <<#_plevelenvmgt_createtestorproductionlevel,>>.

|Optional
a|This field indicates whether or not the Level is optional in the Lifecycle attached to the Project Stream.

* If the Level is optional, the field is marked by a red cross.
* If the Level is not optional, this field is empty.

<<ProjAdm_LifeCycles.adoc#_lifecyclemgt_screen,Lifecycles Overview Screen>>

|Locked
a|This field indicates whether or not the Level is locked:

* If the Level is locked, the field contains a red check mark.
* If the Level is not locked, the field is empty.

It is not possible to execute Level Requests on locked Levels.
Levels can be unlocked by auditing the Project.

<<#_projadm_auditingprojects,>>

|Active Build Number
|This field contains the number of the Active Build on this Level.

|Date of Active Level Request
|This field indicates the date and time at which the latest successful Level Request was executed on this Level. 

|Schedule
|This field is only applicable on a Build Level.

It contains the name of the Schedule associated with this Level.
The Schedule defines the frequency of the Continuous Build process as a number of seconds, minutes or days. <<#_globadm_schedules,>>

If no Schedule was assigned to a particular Level, the field remains empty.

|Next Scheduled Request
|If a Schedule was assigned to the Level, this field contains the execution date and time of the next scheduled Level Request, under the condition that there are changes in the connected VCR.
|===

. In the _Action_ column, click the required Level Request Creation icon.
+
The following icons may be available:
+

[cols="1,1,1", frame="topbot", options="header"]
|===
| Icon
| Level Request Type
| Description


|image:images/icons/request.gif[,15,15]  / image:images/icons/requestPlus.gif[,15,15] 
|Request/Force
|Click this icon to create a Build Level Request. 

If no schedule is attached to the Build Level, a build will be __requested__.

If a schedule is attached to it, and if the Force Build Option is activated for the Project Stream, a build can be __forced__.

<<#_desktop_lr_createlevelrequest_build,>>

|image:images/icons/icon_deliverBuild.png[,15,15] 
|Deliver
|Click this icon to create a Level Request that will deliver a Build to the selected Test or Production Level.

<<#_desktop_lr_createlevelrequest_deliver,>>

|image:images/icons/rollback.gif[,15,15] 
|Rollback
|Click this icon to create a Level Request that will restore a previous version of the application on the selected Test or Production Level.

<<#_desktop_lr_createlevelrequest_rollback,>>
|===
+
The following messages can replace or complete the Level Request Creation Links.
+

[cols="1,1", frame="topbot", options="header"]
|===
| Message
| Description


|_A Level Request is pending for this Level of this Project Stream_
|This message is displayed, if a Level Request is being executed or waiting for approval.

You will need to wait until the current Level Request is completed, before you can define a new Level Request for this Level.

|_The Level is locked_
|It is not possible to define Level Requests for Locked Levels.

You (or the Project Manager) must <<ProjAdm_AuditProjects.adoc#_projadm_auditingprojects>>, before you can define Level Requests for this Level.

|_No Request Rights_
|It is not possible to define Level Requests, if your User ID does not have the required access rights.
This is because your User ID is not a member of the Requester User Group that is protecting the creation of Level Requests on the Level.

You must connect with a User ID having the right to run Requests or ask the Global or Project Administrator to give this right to your User ID.

|_The Project is locked_
|It is not possible to define Level Requests for locked Projects.

A User with Project Admin Access Rights can unlock the Project first by clicking the _Unlock_ button on the __Projects Overview__. <<#_projadmin_projectsoverview_editing,>>

|_The Project Stream is locked_
|It is not possible to define Level Requests for locked Project Streams.

A User with Project Admin Access Rights can unlock the Project Stream first by clicking the _Unlock_ button on the__ Edit Project Stream screen__. <<#_projadmin_projectstream_editing,>>

|_The Project Stream is frozen_
|It is not possible to define Build Level Requests for frozen Project Streams.
However, it is still possible to deliver Level Requests to Test and Production Levels.

A User with Project Admin Access Rights can unfreeze the Project Stream first by selecting another status from the _Status_ drop-down menu on the __Edit Project Stream screen__. <<#_projadmin_projectstream_editing,>>

|_No Build Environments defined_
|It is not possible to define a Build Level Request for a Build Level without a Build Environment.

A User with Project Admin Access Rights can create a Build Environment for this Level

|_No Build or Deploy Environments defined_
|This field indicates that the Test Level is not associated to a Build or Deploy Environment.

This is a warning message, indicating that there will be no deploy Action when creating a Deliver or Rollback Level Request for this Level.
However, such Levels have the same Approval and Notification management options as Levels that are linked to Environments.

|_No Deploy Environments defined_
|This field indicates that the Production Level is not associated to a Deploy Environment.

This is a warning message, indicating that there will be no deploy Action when creating a Deliver or Rollback Level Request for this Level.
However, such Levels have the same Approval and Notification management options as Levels that are linked to Environments.

|_Forced Builds are not allowed_
|It is not possible to define manual Build Level Request on Project Streams in case the __Accept Forced Build __attribute is set to "`No`". <<#_desktop_lr_createlevelrequest_build,>>

|_No Levels defined in the Lifecycle of the Project Stream._
|It is not possible to create a Level Request, since there is no Level linked to the Lifecycle of the Project Stream.
|===
+

[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<#_globadm_usersgroups,>>
* <<#_desktop_personalsettings,>>
* <<Desktop_ManageDesktop.adoc#_desktop_managedesktop,Managing the Desktop>>
* <<#_desktop_outstandingapprovals,>>

|===


==== Creating a Build Level Request 
(((Level Requests ,Request Build)))  
(((Level Requests ,Force Build))) 

Level Requests are created using the Request/Force Build (image:images/icons/request.gif[,15,15]  / image:images/icons/requestPlus.gif[,15,15] ) icons.

Whether it concerns a Requested or a Forced Build depends on the way the Build Level has been defined.

[cols="1,1", frame="topbot", options="header"]
|===
| Build Type
| Description

|Requested Build (image:images/icons/request.gif[,15,15] )
|If no schedule is attached to the Build Level, builds will only be generated when created manually.
This is called a __Requested Build__.

|Forced Build (image:images/icons/requestPlus.gif[,15,15] )
|If a Continuous Build Process has been defined for the Build Level by means of a Schedule, and if the Force Build option is activated for the Project Stream concerned, a Build can still be generated manually.
This is called a __Forced Build__.
|===

. Select _Level Requests > Create Level Request_ on the Main Menu.
. If the Level belongs to a Package-based Project, you first need to select the required Package.
+
image::images/Desktop-LevelRequests-SelectPackage.png[,845,212] 
+

[NOTE]
====
If you add the selected package to a Desktop Tab Page, this step is avoided when creating a Level Request. <<#_managedesktop_addingelements,>>
====
. The _Create Level Request_ screen is displayed. 
+
image::images/Desktop-LevelRequests-Create-Build.png[,967,563] 
+
On this screen you will find the following sections:

* The Status Header
* Links for navigation and for showing/hiding panels with extra information 
* The _Create Level Request_ panel
* The optional _Select Deploys to Execute_ panel becomes available in case several Deploy Environment have been defined for the Level and if the option _Make Level Optional_ is activated for the Level. See also <<#_lifecyclemgt_enableoptionaldeploys,>>.
* The Parameters panel (only available if Parameters are linked to the involved Environments or Machines)

. Verify the information provided in the Status Header and via the additional links in the upper part of the screen.

* The Status Header
+
The header displays the type of Build Level Request (Force or Request Build) and its corresponding symbol, followed by the context of the Level Request (Project Name/Project Stream Identification[/Package Name]/Level Name), the description of the Project and the active build number.
* The _Back_ link
+
Click this link to return to the __Create Level
Request: Select Level __page, or the Desktop Page, depending on where you launched the Create Build Level Request.
* The _Show/Hide Additional Info_ link 
+
Click this link to display or hide information concerning the Project, Project Stream, [Package,] Level and Version Control Repository, as well as information about the Environments linked to the Build Level.
+
image::images/Desktop-LevelRequests-Create-Build_AddInfo.png[,931,211] 
+
* The _Show/Hide Modifications_ link 
+
Click this link to display or hide the _Modifications
since previous successful Level Request_ panel, containing the added, deleted and modified files in the VCR compared with the previous successful Level Request.
+
image::images/Desktop-LevelRequests-Create-Build_Modifs.png[,574,300] 
+
. Complete the fields in the _Create Level Request_ panel.
+
The following fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description


|Description
|In this field, enter a description for the Level Request or select one of the previously entered descriptions.

|Previous Descriptions
|From the drop-down list, select one of the descriptions you entered previously to automatically fill in the _Description_ field.

|Build Number
|This field contains the next available sequential Build Number for this Level.

This number is only indicative, as another Level Request for this Level may be defined almost simultaneously, resulting in a higher Build Number for this Level Request.

|VCR Tag
|This field contains the VCR Tag that is _likely to be assigned_ to the Build resulting from the Level Request, if it is executed successfully.
The Tag matches the Tag Template defined for the Head or Branch Stream.

In the exceptional event that another Level Request is defined almost simultaneously for this Level, the actual VCR Tag will contain a higher Build Number.

The user can override or edit the suggested Tag in order to specially mark the Build.
For instance, if the BUILD is a release candidate, he or she might change it to RC_1.
Keep in mind that the VCR Tag must be unique in the Project Stream and that it may not contain special characters or spaces depending on the VCR type.

_Note:_ In the case of Tag-based Builds, this field is left empty.
The Tag must be provided by the User.
The tag has to match the user-defined tag in the head or branch of the VCR.
For more information, refer to the section <<#_projadmin_projectstream_createbranch,>>.
|===

. If available, verify and/or edit the settings for the available Build or Deploy Parameters in the _Parameters_ panel.
+
The Parameters will be grouped per Environment linked to the Level.
+
A Build/Deploy Parameter can have the following characteristics:
+
* _Mandatory Parameters_ will always be provided to the Build/Deploy Script, when the Level Request is executed. Mandatory Parameters lack the activation check box.
* _Non-Mandatory Parameters_ can be provided to the Build/Deploy Script, when the Level Request is executed. If you want to provide the Non-Mandatory Parameter, select the check box. If you do not want to provide the Non-Mandatory Parameter, clear the check box.
* _Editable Parameters_ have a default value, but you can change this value each time you create a Level Request.
* _Uneditable Parameters_ have a fixed value, which cannot be changed when you create a Level Request. Use the _Show Uneditable Parameters_ link to display them.
* _Dynamic Parameters_ dispose of a list of allowed values. You can select one of these allowed values from the drop-down list, when you create a Level Request.
* _Secured Parameters_ are non-editable parameters whose value cannot be read by any IKAN ALM User.
+
By default, the uneditable parameters are hidden.
Use the _Show Uneditable Parameters_ option to display them.
+
[NOTE]
====
A Machine Parameter can have all the same characteristics and applies for all the Environments related to the Machine.
====
+
. Once you have defined and verified all settings, click __Create__.
+
The _Level Requests Overview_ screen is displayed.
It contains the information about the new Level Request (as well as about the older Level Requests).
+
For a detailed description of this screen refer to <<Desktop_LevelRequests.adoc#_desktop_lr_overview,Level Requests Overview>>.


==== Creating a Deliver Build Level Request 
(((Level Requests ,Deliver Build))) 

. Select _Level Requests > Create Level Request_ on the Main Menu.
. Click the _Deliver_ icon (image:images/icons/icon_deliverBuild.png[,15,15] ) to deliver a Build to the selected Test or Production Level.
. If the Level belongs to a Package-based Project, you first need to select the required Package.
+
image::images/Desktop-LevelRequests-SelectPackage.png[,787,227] 
+
[NOTE]
====
If you add the selected package to a Desktop Tab Page, this step is avoided when creating a Level Request. <<#_managedesktop_addingelements,>>
====

. The _Create Level Request_ screen is displayed. 
+
image::images/Desktop-LevelRequests-Create-Deliver.png[,1053,746] 
+
On this screen you will find the following sections:

* The Status Header
* Links for navigation and for showing/hiding panels with extra information 
* The _Create Level Request_ panel
* The optional _Select Deploys to Execute_ panel becomes available in case several Deploy Environment have been defined for the Level and if the option _Make Level Optional_ is activated for the Level. See also <<#_lifecyclemgt_enableoptionaldeploys,>>.
* The Parameters panel (only available if Parameters are linked to the involved Environments or Machines)

. Verify the information provided in the Status Header and via the additional links in the upper part of the screen.
+
On this screen you will find the following sections:

* The Status Header
+
The header displays the type of Level Request and its corresponding symbol, followed by the context of the Level Request (Project Name/Project Stream Identification[/Package Name]/Level Name), the description of the Project and the active build number.

* The _Back_ link
+
Click this link to return to the __Create Level
Request: Select Level __page, or the Desktop Page, depending on where you launched the Create Build Level Request.
* The _Show/Hide Additional Info_ link 
+
Click this link to display or hide information concerning the Project, Project Stream, [Package,] Level and Version Control Repository, as well as information about the Environments linked to the Build Level.
+
image::images/Desktop-LevelRequests-Create-Deliver_AddInfo.png[,924,207] 

. Complete the fields in the _Create Level Request_ panel.
+
The following fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|Description
|In this field, enter a description for the Level Request or select one of the previously entered descriptions.

|Previous Descriptions
|From the drop-down list, select one of the descriptions you entered previously to automatically fill in the _Description_ field.

|Requested Date/Time
a|Leave this field blank to execute the Level Request as soon as possible.

If required, enter an execution Date and Time for the Level Request in the format set in the User's local settings.

You can also click the image:images/icons/calendar.gif[,18,19]  icon to select the execution date.
The following screen is displayed:

image::images/Desktop-LevelRequests-Calendar.png[,277,178] 

Click the required date to copy it into the _Requested
Date/Time_ field.

The execution time will be set to the current time.
However you can still change the execution time manually.

|Selected Build
|Select the Build to be delivered to the Test or Production Level.
The list contains all Builds available on the previous Level that have not yet been delivered to this Level and that have the same (Redeliver) or a higher Build Number than the current active Build.

If the previous Level in the Lifecycle is marked as _Optional_ (<<ProjAdm_LifeCycles.adoc#_lifecycles_makingoptional,Making a Level optional or required>>) the list contains the available Builds from the previous Level AND from the Level before that one.
The column _Available on_ indicates on which Level the available Build resides.

The current active build on a Level can be redelivered.
If such a Build exists, it will be marked in blue.
In that case, the _Level Request Action Type_ will be "`Redeliver Build`".
|===

. If available, select the deploys to be executed in the S__elect Deploys to Execute__ panel.
. If available, verify and/or edit the settings for the available Build and Deploy Parameters in the Parameters panel.
+
See <<#_desktop_lr_createlevelrequest_build,>> for more information on the available parameters.
. Once you have defined the required settings, click__ Create__.
+
The _Level Requests Overview_ screen is displayed.
It contains the information about the new Level Request (as well as about the older Level Requests). 
+
For a detailed description of this screen refer to <<Desktop_LevelRequests.adoc#_desktop_lr_overview,Level Requests Overview>>.


==== Creating a Rollback Build Level Request 
(((Level Requests ,Rollback Build))) 

. Select _Level Requests > Create Level Request_ on the Main Menu.
. Click the _Rollback_ icon (image:images/icons/rollback.gif[,15,15] ) to restore the previous Build onto the selected Test or Production Level.
. If the Level belongs to a Package-based Project, you first need to select the required Package.
+
image::images/Desktop-LevelRequests-SelectPackage.png[,844,214] 
+

[NOTE]
====
If you add the selected package to a Desktop Tab Page, this step is avoided when creating a Level Request. <<#_managedesktop_addingelements,>>
====
. The _Create Level Request_ screen is displayed. 
+
image::images/Desktop-LevelRequests-Create-Rollback.png[,929,668] 
+
On this screen you will find the following sections:

* The Status Header
* Links for navigation and for showing/hiding panels with extra information 
* The _Create Level Request_ panel
* The optional _Select Deploys to Execute_ panel becomes available in case several Deploy Environment have been defined for the Level and if the option _Make Level Optional_ is activated for the Level. See also <<#_lifecyclemgt_enableoptionaldeploys,>>.
* The Parameters panel (only available if Parameters are linked to the involved Environments or Machines)

. Verify the information provided in the Status Header and via the additional links in the upper part of the screen.
+
On this screen you will find the following sections:

* The Status Header
+
The header displays the type of Build Level Request (Force or Request Build) and its corresponding symbol, followed by the context of the Level Request (Project Name/Project Stream Identification[/Package Name]/Level Name), the description of the Project and the active build number.
* The _Back_ link
+
Click this link to return to the __Create Level
Request: Select Level __page, or the Desktop Page, depending on where you launched the Create Build Level Request.
* The _Show/Hide Additional Info_ link 
+
Click this link to display or hide information concerning the Project, Project Stream, [Package,] Level and Version Control Repository, as well as information about the Environments linked to the Build Level.
+
image::images/Desktop-LevelRequests-Create-Rollback_AddInfo.png[,1019,212] 
+
. Complete the fields in the _Create Level Request_ panel below.
+
The following fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|Description
|In this field, enter a description for the Level Request or select one of the previously entered descriptions.

|Previous Descriptions
|From the drop-down list, select one of the descriptions you entered previously to automatically fill in the _Description_ field.

|Requested Date/Time
a|Leave this field blank to execute the Level Request as soon as possible.

If required, enter an execution Date and Time for the Level Request in the format set in the User's local settings.

You can also click the image:images/icons/calendar.gif[,18,19]  icon to select the execution date.
The following screen is displayed:

image::images/Desktop-LevelRequests-Calendar.png[,277,178] 

Click the required date to copy it into the _Requested
Date/Time_ field.

The execution time will be set to the current time.
However you can still change the execution time manually.

|Selected Build
|Select the Build to be restored on the selected Test or Production level.
The list contains all Builds that have been delivered to this Level (except the current active Build on this Level).
|===

. If available, select the deploys to be executed in the S__elect Deploys to Execute__ panel.
. If available, verify and/or edit the settings for the available Build and Deploy parameters in the _Parameters_ panel.
+
Refer to the section <<#_desktop_lr_createlevelrequest_build,>> for more information on the available parameters.
. Once you have defined the required settings, click __Create__.
+
The _Level Requests Overview_ screen is displayed.
It contains the information about the new Level Request (as well as about the older Level Requests). 
+
For a detailed description of this screen refer to <<Desktop_LevelRequests.adoc#_desktop_lr_overview,Level Requests Overview>>.


[[_desktop_lr_overview]]
=== Level Requests Overview

The following sections deal with the procedures involved when using the __Level Requests Overview__:

* <<#_desktop_lr_overviewscreen,>>
* <<#_desktop_lr_rssfeeds,>>
* <<#_desktop_lr_generatereport,>>
* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>


==== The Level Requests Overview Screen 
(((Level Requests ,Overview ,Level Requests))) 

. Select _Level Requests > Overview Level Requests_ on the Main Menu.
+
The _Level Requests Overview_ screen is displayed:
+
image::images/Desktop-LevelRequests-Overview.png[,1023,668] 
+

[NOTE]
====
If the__ Auto Refresh __option is activated, the __Level Requests Overview __screen will be refreshed each time the defined rate is expired. <<UserInterface.adoc#_desktop_autorefresh,Auto Refresh>>
====

. Use the search criteria on the _Search_ panel to only display the Level Requests you are looking for.
+
image::images/Desktop-LevelRequests-SearchPanel.png[,854,230] 
+
The following options are available:

* Search: in principle it is not necessary to click the _Search_ option. The results on the overview will be automatically synchronized in function of the selected criteria.
* Reset search: to clear all search criteria and display the full list of items.
* Select an existing filter from the drop-down list.
* Save filter: to save the current search criteria for future use.

+
For more information on the usage of search panels and filters, refer to the sections <<#_babcjedaj8,>> and <<Desktop_PersonalSettings.adoc#_desktop_searchfilters,Defining Search Filters>>.

. Click the _Search_ button once again if you want to verify the changing status of existing and new Level Requests.
+

[NOTE]
====
If the__ Auto Refresh __option is activated, the _Level Requests Overview_ will be refreshed following the interval specified by the Auto Refresh Rate specified in the System Settings. <<UserInterface.adoc#_desktop_autorefresh,Auto Refresh>>
====

. Use the _Generate Report_ button to run the _Level Requests Overview_ Report.
+
See <<#_desktop_lr_generatereport,>> for more information on __Generating a Level Requests Overview
Report__.

. On the __Level Requests Overview__, verify the Level Request Information fields for the required Level Request.
+

[NOTE]
====
Columns marked with the image:images/icons/icon_sort.png[,15,15]  icon can be sorted alphabetically (ascending or descending).
====
+
The following information fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|OID
|This field contains the OID (Object Identifier) of the Level Request.
This is a unique sequential number assigned to each Level Request when it is created.

The Level Request OIDs are displayed as a link.
Click this link to display the details for this Level Request.

For more information, refer to the section explaining the <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>> tab page of the _Level Request Detail_ screen. 

|Project Stream
a|This field contains the identification of the Project Stream.

This name is composed of:
* Project Name
* Project Stream Type: H (Head) or B (Branch)
* Project Stream Prefix, optionally followed by the Suffix in case of a Branch Project Stream

Example: `Webpad H_1-0`

|Level Name
|This field contains the name of the Level concerned by the Level Request.

|Level Type
|This field contains the type of the Level concerned by the Level Request (Build, Test or Production).

|Action Type
a|This field contains the type of the Level Request Action.

The following types are available:

* image:images/icons/icon_buildInitiatedByScheduler.png[,15,15]  Build initiated by Scheduler
* image:images/icons/requestPlus.gif[,15,15]  Force Build
* image:images/icons/request.gif[,15,15]  Request Build
* image:images/icons/icon_deliverBuild.png[,15,15]  Deliver Build
* image:images/icons/icon_redeliverBuild.png[,15,15]  Redeliver Build
* image:images/icons/rollback.gif[,15,15]  Rollback Build

For a description of the latter four Level Request Action Types, refer to <<Desktop_LevelRequests.adoc#_desktop_lr_creatinglevelrequest,Creating Level Requests>>.
The Build initiated by the Scheduler is similar to the Request Build Level Request Action Type, but it is triggered automatically.

|User ID
|This field contains the User ID of the User who created the Level Request.

For Level Requests initiated by the Scheduler, this field remains empty.

|Status
a|This field contains the Level Request Status.
The following status indication icons are possible:

* image:images/icons/succes.gif[,15,15]  (Success): the Level Request is executed successfully.
* image:images/icons/warning.gif[,15,15]  (Warning): the Level Request has been successfully executed, but at least one non-critical Level, Build or Deploy Phase failed, e.g., for debugging reasons.
* image:images/icons/fail.gif[,15,15]  (Fail): the execution of the Level Request as a whole failed. This is due to the failure of one or more critical Level, Build or Deploy Phases.
* image:images/icons/run.gif[,15,15]  (Run): the Level Request is being executed at this moment.
* image:images/icons/run.gif[,15,15]  (Aborting): the Level Request is being aborted at this moment.
* image:images/icons/waiting_datetime.gif[,15,15]  (Awaiting requested Date/Time): the requested execution is in the future, or is waiting for the Monitor process to pick it up
* image:images/icons/waiting_approval.gif[,15,15]  (Awaiting Pre-Approval or Awaiting Post-Approval): the Level Request is awaiting a Pre- or Post-Approval.
* image:images/icons/reject.gif[,15,15]  (Rejected): An Approval associated with the Level Request was rejected. The Level Request will never be executed.
* image:images/icons/cancelled.gif[,15,15]  (Canceled): the Level Request has been canceled before it was run. It will never be executed.
* image:images/icons/aborted.gif[,15,15]  (Aborted): the Level Request has been aborted during execution. The results (such as Build Results) that were already available at the time of the abort have been cleaned up and cannot be used.

|Build Number
|This field contains the Build Number of the Level Request.
Use this link to access the _Build
History Detail_ screen. <<Desktop_LevelRequests.adoc#_desktop_lr_buildhistory,Build History Screen>>

|VCR Tag
|This field contains the VCR Tag of the Level Request.
This Tag matches a Build with its source code in the VCR.

The format of the VCR Tag normally matches the Tag Template defined for the Stream. <<#_projadmin_projectstreamsoverview_accessing,>>

However, the user can override the default VCR Tag while creating a Level Request (and is obliged to do so for a Build Level Request in a Tag Based Project Stream), so that the Tag Format can be completely different.

The Level Request VCR Tag is displayed as a link leading to the _Sources_ tab page on the _Level
Request Detail_ screen.
For more information, refer to the section <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>.

|Start
|This field indicates the date and time when the Level Request execution started.

|Duration
|This field indicates the total duration of the Level Request.
|===

. View the details of a specific Level Request.
+
Click the Level Request`'s _OID_ link in front of the required Level Request.
+
For more information, refer to the section <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>.


==== The IKAN ALM RSS Functionality 
(((RSS Functionality))) 

If your Global IKAN ALM Manager has activated RSS Feeds at System Settings level, the orange _RSS_ button is available on the _Search Level Request_ panel.

image::images/Desktop-LevelRequests-Overview-RSS.png[,1035,317] 

RSS is a web format used to publish frequently updated digital content, such as blogs, news feeds or podcasts.
Consumers of RSS content use special browsers called aggregators to watch for new content in dozens or even hundreds of web feeds.
Programs known as feed readers or aggregators can check a list of feeds on behalf of a user and display any updated articles that they can find.

RSS feeds can be shown by a plug-in in the user`'s IDE or by other RSS Readers including the Mozilla Firefox browser. 

IKAN ALM provides RSS Feeds for displaying data about the last 10 Level Requests that meet specified criteria.

. Select __Level Requests > Overview Level Request__s on the Main Menu.
. Specify for which Level Requests you want information to appear in the RSS feed.
+
Initially the URL for the RSS Feed does not contain any criteria, except for the current user`'s language.
To specify which Level Requests you want to appear in the RSS Feed, define the search criteria on the _Search Level Request_ panel.
+
The list of Level Requests matching the set criteria will appear in the _Level Requests Overview_ panel.
+
Most of the criteria will be added to the URL.
See the RSS URL Details to see which criteria might be used.
. Display the RSS Feed
+
Click the _RSS_ button.
A browser window will open, displaying the RSS Feed for the Level Requests you selected.
+
__Note:__ If your browser does not have an integrated RSS Reader, you must manually add the URL for the RSS Feed.
To do so, select and copy the URL from the Location Bar of your browser window, and paste it in the Properties Settings of your RSS plug-in or reader.
+
The RSSOwl plug-in can be found on the Eclipse update site: http://www.rssowl.org/[
http://www.rssowl.org/].
+
You find a detailed explanation of the structure of the IKAN ALM URL in the section <<#_drssfeedurldetails,>>.


==== Generating a Report 
(((Reports ,Level Requests)))  
(((Level Requests ,Reports))) 

This functionality allows you to generate a report for specified Level Requests.
This report can be exported to PDF, CSV, RTF or XLS format.

. Switch to the _Level Requests Overview_ screen and specify for which Level Requests you want to generate a report.
+
<<Desktop_LevelRequests.adoc#_desktop_lr_overview,Level Requests Overview>>
+
To specify which Level Requests you want to appear in the Report, define the search criteria and click the _Search_ button.
+
The list of Level Requests matching the set criteria will appear in the _Level Requests Overview_ panel.
These criteria will be used by the Report Generation.

. Click the _Generate Report_ button.
+
The following dialog is displayed:
+
image::images/Desktop-LevelRequests-GenerateReport.png[,465,224] 
+
The following selection fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|Format
a|Select the required export format from the drop-down menu.

The following formats are available:
* Portable Document Format (PDF)
* Comma Separated Values (CSV)
* Rich Text Format (RTF)
* MS Excel Worksheet (XLS)

|Language
|Select the required language for the report from the drop-down menu.

The following languages are available:
* English
* French
* German

|Group By
a|Optional field which enables to group the reported Level Requests by

* Project Name
* Level Name

|Order
|Select whether the reported Level Requests are to be ordered ascending or descending.

|Number
a|Select the maximum number of results that may appear in the report.
The choices are:

* 20
* 50
* 100 (= default)
* 200
* 500

|===
+
Make the required selections and click __Generate
Report__.
+
The report is generated.
The following is an example of a report saved in PDF format:
+
image::images/Desktop-LevelRequests-PDFReport1.png[,1006,714] 
+
image::images/Desktop-LevelRequests-PDFReport2.png[,1003,233] 
+
More options are available when Generating a Report with the IKAN ALM Command Line.
For more information, refer to the section <<#_ccommandlineinterface,>>.

. Use the _Close_ button to return to the _Level Requests Overview_ screen.


[[_dekstop_lr_detailedoverview]]
=== Level Request Detail 
(((Level Request Detail)))  
(((Level Request Detail ,Automatic Refresh))) 

The _Level Request Detail_ screen contains the detailed information concerning the selected Level Request. 

The screen is structured as follows:

. Status Header
+
The header displays the status and corresponding symbol of the selected Level Request, as well as the Level Request OID and description, the requester (User or Schedule) and the date and time at which the Level Request has been requested.

. Tab Pages with detailed information
+
Underneath the status indication, several tabs are available, each of them displaying additional information concerning the Level Request.
By default the _Summary_ tab page is displayed.
+
Refer to one of the following sections for more information.

* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

. Back, Refresh and Build History links

* Use the _Back_ link to return to the previous screen.
* Use the _Refresh_ link to update the displayed information. This link reloads the currently selected tab page, as well as the header information. 
* Use the _Build History_ link to get information about the Build`'s Lifecycle.
+
For more detailed information, refer to the section <<Desktop_LevelRequests.adoc#_desktop_lr_buildhistory,Build History Screen>>.

. Auto Refresh option
+
In some cases it might be useful to activate the _Auto
Refresh_ option.
+
On the _Phase Logs_ tab page, for example, it allows you to follow the execution steps of a Level Request.
Auto Refresh is also available on the __Summary__, __Approvals__, _Issues_ and _Dependencies_ tab pages.
+
Once the Level Request has reached a final status (__Success__, __Rejected__, __Canceled__, __Aborted__, _Fail_ or __Warning__), the _Auto
Refresh_ function will be stopped automatically.
+
For more information on the _Auto Refresh_ settings, refer to the section <<UserInterface.adoc#_desktop_autorefresh,Auto Refresh>>.


[[_desktop_lr_summary]]
==== Summary 
(((Level Request Detail ,Summary)))  (((Level Requests ,Summary)))  (((Level Requests ,Summary ,Actions)))  (((Level Requests ,Summary ,Info)))  (((Level Requests ,Summary ,Builds and Deploys)))  (((Level Requests ,Summary ,Approvals)))  (((Level Requests ,Summary ,Issues)))  (((Level Requests ,Summary ,Error Log)))  (((Level Requests ,Summary ,Warning Log))) 

The _Summary_ page displays the status of the Level Request and, underneath, several panels providing detailed information.
The panels displayed depend on the status of the Level Request.

image::images/Desktop-LevelRequests-Detailed-Summary.png[,953,725] 

===== Status Header

Some examples of Level Requests for release-based Projects:

image::images/Desktop-LevelRequests-Detailed-Summary-Status.png[,743,245] 

image::images/Desktop-LevelRequests-Detailed-Summary-Status-Fail.png[,602,249] 

Example of a Level Request for a package-based Project:

image::images/Desktop-LevelRequests-Detailed-Summary-Status-PackageBased.png[,598,239] 

The header of the _Level Request Detail_ screen displays the status and the corresponding symbol of the selected Level Request, as well as the Level Request OID and description, the requester (User or Schedule) and the date and time at which the Level Request has been requested.

[NOTE]
====
The links next to the status indication lead to the _Level
Request Overview_ screen.
Depending on the link element you select, more information will already be filled in on the _Search
Level Request_ panel to limit the Level Requests displayed on the overview.
====

[cols="1,1", frame="topbot", options="header"]
|===
| Link Element
| Preselected Search Details

|Project
|Project Name

|Project Stream
|Project Name and Build Prefix (and, optionally, the Build Suffix in case of a Level Request for a Branch Project Stream).

|Package (only for Package-based Projects)
|Project Name, Build Prefix (and, optionally, the Build Suffix) and Package Name.

|Level
|Project Name, Build Prefix, Package Name and Level Name.

|Build Number
|Project Name and VCR Tag.
|===


[NOTE]
====
When selecting another Tab Page, this header is not being refreshed.
====

Depending on the status of the Level Request, the _Summary_ page may contain the following panels:

* <<Desktop_LevelRequests.adoc#_desktop_lr_summary_actions,Actions Panel>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary_info,Info Panel>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary_buildsdeploys,Builds and Deploys>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary_errorwarning,Issues>>

===== Actions Panel
[[_desktop_lr_summary_actions]]

The actions available in this panel depend on the status of the Level Request.

image::images/Desktop-LevelRequests-Detailed-Summary-Actions.png[,360,308] 

Actions are available when the Level Request execution time is set to a moment in the future, if an Approval is pending for the Level Request or if the Level Request is still being executed.

. The Level Request execution time is set to a moment in the future or the Level Request is waiting for an Approval:
+
The following action links will be available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Link
| Meaning

|image:images/icons/icon_update_LevelRequest.png[,16,16]  Update Level Request
|Click this link to update the Level Request Description and/or Execution Time.

_Note:_ This action is not available for a Build level.

|image:images/icons/icon_cancel_LevelRequest.png[,16,16]  Cancel Level Request
|Click this link to cancel the Level Request.

Once you have confirmed the cancellation, the Level Request Status will be set to __Canceled__.

It is no longer possible to cancel a Level Request, once an assigned Approval has been granted.
|===
+
Clicking the _Update Level Request_ link shows the _Update Level Request_ screen.
+
image::images/Desktop-LevelRequests-Detailed-UpdateLevelRequest.png[,452,241] 
+
The following fields may be edited:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Description
|This field contains the description entered by the user, when he or she created the Level Request.

|Requested Date/Time
|This field indicates when the execution of the Level Request should start.
This date and time cannot be in the past.
If left blank, the current system time will be taken as value for this field.
|===
+
Click _Update Level Request_ to save the changes and return to the _Level Request Detail_ screen.
+
You can also click _Close_ to cancel the update and return to the _Level Request Detail_ screen.

. The Level Request is currently being executed:
+
If the Level Request is currently being executed, the following button is available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Button
| Meaning

|image:images/icons/icon_cancel_LevelRequest.png[,16,16]  Abort Level Request
|Click this button to abort the Level Request execution.

Once you have confirmed the abort, the Level Request Status will be set to __Aborting__.
Once the current Monitor, Build or Deploy Agent action is completed, the Level Request execution will be halted and the Level Request status will be set to __Aborted__.
|===
+
Clicking the _Abort Level Request_ action button displays the following screen.
+
image::images/Desktop-LevelRequests-Detailed-AbortLevelRequest.png[,452,123] 
+
Click _Abort Level Request_ to confirm the action and return to the _Level Request Detail_ screen.
+
You can also click _Close_ to cancel the abort process and return to the _Level Request Detail_ screen.

===== Info Panel
[[_desktop_lr_summary_info]]

This panel contains detailed information concerning the Level Request.

image::images/Desktop-LevelRequests-Detailed-Summary-Info.png[,675,285] 


[NOTE]
====
The _Show more..._ and _Show less..._ links respectively show or hide more data about the Level Request.
====

The following information is available.

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Build Number
|This field contains the Build number of the Level Request.

|VCR Tag
|This field contains the VCR Tag of the Level Request.
This Tag matches a Build with its source code in the VCR.

The format of the VCR Tag normally matches the Tag Template defined for the Stream. <<#_projadm_projectstreams,>>

However, the user can override the default VCR Tag while creating a Level Request, so that the Tag Format can be completely different.

|Action
a|This field contains the Level Request Action Type.

The following types exist:

* _Build initiated by Scheduler_
* _Force Build_
* _Request Build_
* _Deliver Build_
* _Redeliver Build_
* _Rollback Build_
* _Dependency Build_

|Type
a|The Level Request Type.

The following types exist:

* _Build based on latest code_
* _Builds based on tagged code_
* _Builds and Deploys on latest code_
* _Builds and Deploys on tagged code_
* _Deploys of archived Build_
* _No Builds and Deploys_

|Start
|This field contains the date and time when the Level Request execution started.

|Duration
|This field contains the total execution time of the Level Request.

|Project
|This field contains the Project name.

|Project Stream
|This field contains the Project Stream, the Build Prefix and, optionally, the Build Suffix (in case of a Branch Project Stream).

|Package
|This field contains the Package name in case of Package-based Project Streams.

|Level
|This field contains the Level name.

|End Date/Time
|This field contains the date and time when the Level Request execution ended.

|Partial Build Tag
|In case of a Partial Build type Project Stream (see <<#_projadmin_projectstream_createbranch,>>), this field contains the Partial Build Tag.

Only the sources that differ from this Tag have been retrieved and made available for the Build during the _Retrieve
Code_ Phase.[[_desktop_lr_summary_buildsdeploys]]
|===

===== Builds and Deploys Panel
This panel contains the different Builds and/or Deploys that are related to the Level Request.


image::images/Desktop-LevelRequests-Detailed-Summary-BuildsDeploys.png[,622,278] 

The following information is available:

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Status icon
a|This field contains the Build/Deploy Status indication.
This Status indication is derived from the status of the different Build/Deploy Phases.

Possible status indications are:

* image:images/icons/waiting_datetime.gif[,15,15] _Wait_
+
The Build/Deploy is waiting to be started.
* image:images/icons/run.gif[,15,15] _In progress_
+
The Build/Deploy is ready to be started.
* image:images/icons/run.gif[,15,15] _Run_
+
The Build/Deploy is currently being executed.
* image:images/icons/succes.gif[,15,15] _Success_
+
The Build/Deploy has finished successfully.
* image:images/icons/warning.gif[,15,15] _Warning_
+
The Build/Deploy has finished successfully, but there were some non-critical errors.
* image:images/icons/fail.gif[,15,15] _Fail_
+
The Build/Deploy has failed.
* image:images/icons/cancelled.gif[,15,15] _Canceled_
+
The Build/Deploy was canceled before it was executed.
* image:images/icons/aborted.gif[,15,15] _Aborted_
+
The Build/Deploy was aborted while it was being executed.
* image:images/icons/reject.gif[,15,15] _Rejected_
+
The Build/Deploy was rejected.

|Type icon
|This field indicates the type: Build (image:images/icons/icon_LRdetail_build.png[,16,16] ) or Deploy (image:images/icons/icon_LRdetail_deploy.png[,16,16] ).

|OID
|This field contains the OID (Object Identifier) of the Build/Deploy.
This is a unique sequential number assigned to each Build/Deploy Action when it is created.

_Note:_ The OID is not equal to the Build/Deploy Number!

|Environment
|This field contains the name of the Build/Deploy Environment where this Build/Deploy was executed.

|Machine
|This field contains the name of the Machine hosting the Build/Deploy Environment where this Build/Deploy was executed.

|Start
|This field indicates the date and time when the Build/Deploy execution started.

|Duration
|This field indicates the total execution time of the Build/Deploy.
|===

[NOTE]
====
For more detailed information about the Build/Deploy of the Level Request, select the _Phase Logs_ tab underneath the Status header.[[_desktop_lr_summary_approvals]]
====

===== Approvals Panel

This panel is only displayed if the Level Request has been rejected or if the status of the Level Request is Awaiting a Pre- or Post-approval.

It displays the type and OID of the _Awaiting_ or _Rejected_ Approval for the Level Request, its status and to which User Group the User has to belong to for approving or rejecting the Approval.
If the Level Request has been Rejected, the Reason will also be displayed.


image::images/Desktop-LevelRequests-Detailed-Summary-Approvals-Rejected.png[,632,269] 


image::images/Desktop-LevelRequests-Detailed-Summary-Approvals-Approved.png[,632,271] 


[NOTE]
====
For a complete list of all Approvals defined for the Level Request, select the _Approvals_ tab underneath the Status header. <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>[[_desktop_lr_summary_issues]]
====

===== Issues Panel

This panel is only shown if there are Issues related to the Level Request.

image::images/Desktop-LevelRequests-Detailed-Summary-Issues.png[,619,265] 

Issues can get linked to a Level Request in two ways: automatically by IKAN ALM during the execution of the Level Request or manually by a User after the Level Request has ended.
Refer to the section <<#_globadm_issuetracking,>> for more information on defining an external Issue Tracking System, and to the section <<#_phases_generalinformation,>> for more information on the Issue Tracking Phase.

For each issue the following information is displayed:

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Issue ID
|This field displays the ID by which the Issue is defined in the external Issue Tracking System.

If the _URL_ field in the definition of the Issue Tracking System is not empty, this field will be displayed as a link.
Click the link to view the Issue in the external Issue Tracking System's Web interface.

For more information on the _URL_ field, refer to the section <<GlobAdm_IssueTracking.adoc#_globadm_issuetrackingcreate,Issue Tracking Creating an Issue Tracking System>>.

|Description
|This field contains the description of the Issue.

|Status
|This field contains the status of the Issue.

|Owner
|This field contains the owner of the Issue.

|Priority
|This field contains the Issue priority.
|===

[NOTE]
====
On this panel you cannot modify any of the Issues.
If you want to edit, delete or synchronize them, select the _Issues_ tab underneath the Status header. <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>[[_desktop_lr_summary_errorwarning]]
====

===== Error/Warning Log Panel

This panel is only shown if the Level Request status is set to _Fail_ or __Warning__.
It only shows the log of the _first_ Phase with status _Fail_ or __Warning__.
This is not necessarily the cause of the error status of the Level Request.
For a complete overview of the status of _all_ the Phases, refer to the _Phase
Logs_ tab page (<<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>).

image::images/Desktop-LevelRequests-Detailed-Summary-ErrorWarning1.png[,958,526] 

image::images/Desktop-LevelRequests-Detailed-Summary-ErrorWarning2.png[,914,269] 

The following information is displayed.

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Phase
|This field contains the Display Name of the Phase, combined with the Phase Version.

|Start
|This field displays the date/time when the Phase started.

|Duration
|This field displays the total execution time of the Phase.

|Status
a|This field displays the status of the Phase.

Possible status indications are:

* __Success__: The Phase finished successfully
* __Warning__: The Phase finished with a warning
* __Fail__: The Phase failed
* __Running__: The Phase is currently being executed
* _Not executed:_ The Phase has not been executed
* __Aborted__: The Phase was aborted

|Message
|Clicking this link displays the message.
If no log is available, the message will be displayed immediately.

_Note:_ if you hover over the word __Message__, the first 256 characters of the message text are shown as tooltip.

|Stack Trace
|If available, this fields displays the Stack Trace.

_Note:_ if you hover over the word __Stack Trace__, the first 256 characters of the stack trace text are shown as tooltip.

|Log
|This field displays the log of the Phase.

The log is only available for Phases executed by a Scripting Tool (Ant, NAnt or Maven2).

If the Log Format is set to __TXT__, you can download the error/warning log on the _Phase Logs_ tab page.
For more information on specifying the format of the log, refer to the section <<GlobAdm_ScriptingTools.adoc#_globadm_scriptingtools,Scripting Tools>>.
|===


Use the _Top_ link to quickly return to the top of the page.

[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

|===

[[_desktop_lr_phaselogs]]
==== Phase Logs 
(((Level Request Detail ,Phase Logs)))  (((Level Requests ,Phase Logs)))  (((Phases ,Logs)))  (((Phase Logs)))  (((Level Requests ,Build Phases Log)))  (((Build Phases Log)))  (((Level Requests ,Deploy Phases Log)))  (((Deploy Phases Log)))  (((Level Parameters))) 

This page displays the logs of the Level Phases, the Build and Deploy actions and their Build and Deploy Phases executed during the handling of a Level Request.
It also provides more detailed information regarding the used Parameters. 

image::images/Desktop-LevelRequests-Detailed-PhaseLogs_v2.png[,1022,663] 

The following panels can be available:

* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs_levelparameters,Level Parameters>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs_levelphases,Level Phases>>
+
Possible subpanels:

** Phase Parameters
** Message
** Stack Trace
** Logs

* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs_buildactions,Build Actions>>
+
Possible subpanels:

** Used Build Parameters
** Build Phases
+
Just as the Level Phases panel, the Build Phases panel may contain the following subpanels:

*** Phase Parameters
*** Message
*** Stack Trace
*** Logs

* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs_deployactions,Deploy Actions>>
+
Possible subpanels: 

** Used Deploy Parameters
** Deploy Phases
+
Just as the Level Phases panel, the Deploy Phases panel may contain the following subpanels:

*** Phase Parameters
*** Message
*** Stack Trace
*** Logs


If a Phase is still running or if one of the Phases failed, the log of that Phase will be automatically opened.
The parameters (for Custom Phases), the message, the log and/or the stack trace will be displayed.

Items on a gray background represent the different Phases, items on a white background represent the Build or Deploy actions.

Click a Phase/Action Name to expand its information panel.

[NOTE]
====
If the Level Request status is set to __Awaiting
requested Date/Time__, __Awaiting Pre-Approval__, _Canceled_ or _Rejected_ due to a Pre-approval that has been rejected, no Phase logs are available.


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-None.png[,445,148] 

If you activate the _Auto Refresh_ option, you can easily follow the execution of the different Phases.
====

_Example of a running Phase_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_Running.png[,827,363] 

_Example of a Phase with status
Success_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_Success.png[,946,570] 


_Example of a skipped Deploy Phase_

In case of optional Deploys, (a) specific Deploy(s) can be skipped when creating the Level Request.
The Level Request will always end with status _Warning_ due to the skipped Deploy, even if the execution of the Level Request was successful.


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_SkippedDeploy.png[,928,476] 


[[_desktop_lr_phaselogs_levelparameters]]
===== Level Parameters 
(((Parameters)))  
(((Parameters ,Level))) 

To view the Level Parameters used to execute the Level Request, click the Level Parameters heading to expand the panel. 

image::images/Desktop-LevelRequests-Detailed-PhaseLogs-LevelParameters.png[,959,572] 

For each of the parameters, the table displays its key and value.

For more information on Level Parameters, refer to the section <<#_cpredefinedbuildparameters,>>.

[[_desktop_lr_phaselogs_levelphases]]
===== Level Phases

_Example of a Core Phase_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Phases.png[,945,416] 

_Example of a Custom Phase using Phase Parameters_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Phases2.png[,927,481] 

Underneath the Level Parameters, the list of all different Level Phases and their status (__Success__, __Warning__, __Fail__, __Running__, _Not
executed_ or __Aborted__), Start Date/Time and Duration is displayed.

For more information, refer to <<#_phases_generalinformation,>>.

[NOTE]
====
An error status does not always mean that the Level Request has failed.
That depends on the _Fail on Error_ setting of the Level Phase which is defined on the _Edit Level
Phase_ screen. <<#_plevelenvmgt_insertphase,>>
====

Click the name of a Phase to expand its information panel.
The logs of Phases in error and running status are automatically opened.

The following information is displayed for each of the Phases:

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|Phase
|This field displays the name and the version of the Phase.

|Start Date/Time
|This field displays the date/time when the Phase execution started.

|Duration
|This field displays the total execution time of the Phase.

|Status
|This field displays the status of the Phase. 

The possible statuses are: __Success__, __Warning__, __Fail__, __Running__, _Not
executed_ and __Aborted__.
|===


Each Phase may contain the following subpanels:

* Phase Parameters (only for Custom Phases)
* Message
* Stack Trace (only in case of a Fail)
* Log (only for Phases executed by a Scripting Tool)
+
The Log can be downloaded if the Log Format type of the Scripting Tool is set to __TXT__.


Level Phases are handled by the IKAN ALM Server.
By default, the Level Phases listed in the following table may be available.
However, since the defined Level workflow can be altered (<<#_plevelenvmgt_levelphasesoverview,>>), not all Phases may be present in the Phases Log.

[NOTE]
====
The description in this table is very concise.
For a more detailed description, refer to the section <<App_Phases.adoc#_phases_levelphases,Level Phases>>.
====

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|Retrieve Code
|The IKAN ALM Server retrieves the source code from the VCR (and sometimes, in the case of certain dependencies, also the build results from the Build Archive) and stores it in a sub folder of the Work Copy Location so that the Agent can use it to perform a build.

|Build
|This Phase monitors the status of the Builds linked to the Level Request.
The IKAN ALM Server notifies and does the follow-up of the IKAN ALM Agents that execute the Builds linked to the Level Request.

|Tag Code
|The IKAN ALM Server tags the source code after a successful Build on a Build Level.
The tagging will not be performed for a Build Level in a Tag-based Project Stream, nor for Deliver or Rollback Level Requests.

|Deploy
|This Phase monitors the status of the Deploys linked to the Level Request.
The IKAN ALM Server notifies and does the follow-up of the IKAN ALM Agents that execute the Deploys linked to the Level Request.

|Link File Revisions
|This is a specific Phase for Levels in Package-based Projects, which is absent for Release-based Projects.

Based on the contents of the Package at the moment of the Level Request execution, the IKAN ALM Server registers the checked-out versions extracted from the VCR for the Level.

This information allows verifying the contents (i.e., the linked File Revisions) of the Package at the moment of Level Request execution, given the fact that this contents may vary in time.

|Issue Tracking
|This is a specific Phase for Projects linked with an Issue Tracking System.

Depending on the settings in the Issue Tracking system (<<#_globadm_issuetracking,>>), on the VCR type and on the level type, different actions may be logged.

For Build Level Requests, the log will contain Issue matching information from commit comments in the VCR.

For Deliver Level Requests, it will contain the enumeration of Issues since the previous Deliver to the Level.

|Cleanup Work Copy
|The IKAN ALM Server cleans up the Work Copy folder where the source files (and other stored artifacts) have been checked out from the VCR in the _Retrieve
Code_ Phase.
|===

[[_desktop_lr_phaselogs_buildactions]]
===== Build Actions

Build Actions are displayed on a white background in the Phase Logs list.
Their description contains the Build OID and the name of the Machine on which they are executed.
Their Start Date/Time and duration are also indicated.

_Example of a successful Build Action_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_BuildSuccess.png[,918,276] 


_Example showing the list of Build Parameters used during the Build Action_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_BuildActionPlusBuildParameters.png[,922,439] 

If you open the information panel of a Build Action, the following information is displayed.

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|OID
|The OID of the Build.

|Environment
|The name of the Build Environment linked to the Level Request.

|Machine
|The name of the Machine.

|Start Date/Time
|This field displays the date/time when the Build started.

|Duration
|This field displays the total execution time of the Build.

|Status
a|The status of the Build.

Possible status indications are:

* _Wait_
+
The Build is waiting to be started.
* _In progress_
+
The Build is ready to be started.
* _Run_
+
The Build is currently being executed.
* _Success_
+
The Build has finished successfully.
* _Warning_
+
The Build has finished successfully, but there were some non-critical errors.
* _Fail_
+
The Build has failed.
* _Canceled_
+
The Build was canceled before it was executed.
* _Aborted_
+
The Build was aborted while it was being executed.
* _Rejected_
+
The Build was rejected.

|Used Build Parameters
|Click this link to display all the Build parameters used during the execution of the Level Request.

For each of the parameters, the table displays its key and value.

For more information, refer to the section <<#_cpredefinedbuildparameters,>>.

image:images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_UsedBuildParameters.png[,651,120] 
|===

[[_chddiacf]]
====== Build Phases

Build Phases are executed by the IKAN ALM Agent while handling a Build.

Each of these Phases have a status indication.
An _Error_ status does not always mean that the Build as a whole has failed.
That depends on the _Fail on Error_ setting of the Build Environment Phase, defined on the _Edit Build Environment
Phase_ screen. <<#_projadm_buildenv_editphase,>>

The Phases listed in the following table may be available.
However, since the defined Build Environment workflow can be altered (<<#_projadm_buildenv_buildenvphasesoverview,>>), not all Phases may be present in the Phase Log. 

The description in this table is very concise.
For a complete description of the Build Phases, refer to <<#_phases_generalinformation,>>.

[cols="1,1", frame="topbot", options="header"]
|===
| Phase
| Description

|Transport Source
|The _Transport
Source Phase_ transports the required Source code from the Work Copy Location on the IKAN ALM Server to the Build Environment Source Location.

It logs what was transferred and which Transporter was used in the _Message_ field.

|Verify Build Script
|The _Verify
Build Script Phase_ tries to locate the defined build script in the checked-out source code or in the IKAN ALM Script Location.

It fails when it can't find a build script.

It logs where it found the Build Script in the _Message_ field.

|Execute Script
|The _Execute
Script Phase_ will execute the Build Script using the defined Scripting Tool and Build Parameters.

It logs the target folder that contains the Build results in the _Message_ field.

It also logs the full output as generated by the Build Script in a separate _Log_ panel under the _Message_ field.

|Transport Deploy Script
|If a Deploy Script is available on the Source Location of the Build Environment, this Deploy Script is copied to the Target Location.

It logs where it found the deploy script in the _Message_ field.

|Compress Build
|The _Compress
Build Phase_ compresses the Build result files in the Target Location.

It logs the full path of the compressed file in the _Message_ field.

|Archive Result
|The _Archive
Result Phase_ copies the compressed Build file to the Build Archive Location on the IKAN ALM Server.

It logs what was transferred and which Transporter was used in the _Message_ field.

|Cleanup Source
|Cleaning up means that all files in the Build Environment Source location (Source files, Build Script and possibly Deploy Script) are deleted.

It logs the result of the cleanup in the _Message_ field.

|Cleanup Result
|Cleaning up means that all files in the Build Environment Target location (uncompressed and compressed Build files as well as the Deploy Script) are deleted.

It logs the result of the cleanup in the _Message_ field.
|===

[[_desktop_lr_phaselogs_deployactions]]
===== Deploy Actions

Deploy Actions are displayed on a white background in the Phase Logs list.
Their description contains the Deploy OID and the name of the Machine on which they are executed.
Their Start Date/Time and duration are also indicated.

_Example of a Deploy with status
Success_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_DeploySuccess.png[,907,665] 


_Example of a Deploy with status
Warning_


image::images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_DeployWarning.png[,910,551] 

If you open the information panel of a Deploy Action, the following information is displayed.

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|OID
|The OID of the Deploy.

|Environment
|The name of the Deploy Environment linked to the Level Request.

|Machine
|The name of the Machine.

|Start Date/Time
|This field displays the date/time when the Deploy started.

|Duration
|This field displays the total execution time of the Deploy.

|Status
a|The status of the Deploy.

Possible status indications are:

* _Wait_
+
The Deploy is waiting to be started.
* _In progress_
+
The Deploy is ready to be started.
* _Run_
+
The Deploy is currently being executed.
* _Success_
+
The Deploy has finished successfully.
* _Warning_
+
The Deploy has finished successfully, but there were some non-critical errors.
* _Fail_
+
The Deploy has failed.
* _Canceled_
+
The Deploy was canceled before it was executed.
* _Aborted_
+
The Deploy was aborted while it was being executed.
* _Rejected_
+
The Deploy was rejected.

|Used Deploy Parameters
|Click this link to display all the Deploy parameters used during the execution of the Level Request.

For each of the parameters, the table displays its key and value.

For more information, refer to the section <<#_cpredefineddeployparameters,>>.

image:images/Desktop-LevelRequests-Detailed-PhaseLogs-Example_UsedDeployParameters.png[,664,152] 
|===

[[_chdceehj]]
====== Deploy Phases

Each of these Phases have a status indication.
An Error status does not always mean that the Deploy as a whole has failed, this depends on the _Fail on Error_ setting of the Deploy Environment Phase, defined on the _Edit
Deploy Environment Phase_ screen. <<#_projadm_deployenv_phaseedit,>>

The Phases listed in the following table may be available.
However, since the defined Deploy Environment workflow can be altered (<<#_projadm_deplenv_phaseoverviewscreen,>>), not all Phases may be present in the Phase Log. 

The description in this table is very concise.
For a complete description of the Deploy Phases, refer to <<#_phases_generalinformation,>>.

[cols="1,1", frame="topbot", options="header"]
|===
| Phase
| Description

|Transport Build Result
|The _Transport
Build Phase_ transports the Build from the Build Archive on the IKAN ALM Server to the Deploy Environment Source Location.

It logs what was transferred and which Transporter was used in the _Message_ field.

|Decompress Build Result
|The _Decompress
Build Result Phase_ decompresses the Build file into the Deploy Environment Source Location.

It logs where the Build results were decompressed in the _Message_ field.

|Verify Deploy Script
|The _Verify
Deploy Script Phase_ tries to locate the defined deploy script in the decompressed Build result or in the IKAN ALM Script Location.

It fails when it can't find a deploy script.

It logs where it found the deploy script in the _Message_ field.

|Execute Script
|The _Execute
Script Phase_ will execute the Deploy Script using the defined Scripting Tool and Deploy Parameters.

It logs the target folder of the Deploy in the _Message_ field.

It also logs the full output as generated by the Deploy Script in a separate _Log_ panel under the Message field.

|Cleanup Build Result
|The _Cleanup
Build Result Phase_ cleans up the Build files on the Source Location for this Deploy Environment.

It logs the result of the cleanup in the _Message_ field.
|===

[cols="1", frame="topbot"]
|===

|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

|===

[[_desktop_lr_results]]
==== Results 
(((Level Requests ,Results)))  (((Level Request Detail ,Results)))  (((Build Result)))  (((Build Result ,Download)))  (((Download Build Result))) 

On the _Results_ page you can (for each Build related to the Level Request) display the content of the compressed Build Result File, i.e., the files that were present in the Target Location at the moment the Build script ended and which are now stored in the Build Archive.


image::images/Desktop-LevelRequests-Detailed-Results.png[,931,486] 

If the option _Downloadable Build_ is activated for the Environment, you can also download the Build File or view its composition using a File Explorer.

The following information is displayed.

[NOTE]
====
If there are no Builds, the following information will be displayed:


image::images/Desktop-LevelRequests-Detailed-Results-NoRelatedBuilds.png[,436,153] 


====

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|Build File Name
a|The name of the Build File that holds the compressed Build results.
This file is stored in the IKAN ALM Build Archive Location.

If the option <<ProjAdm_BuildEnv.adoc#_buildenvironmentsoverview>> is activated for this Build Environment, this name is displayed as a hyperlink.

Click the hyperlink to save a local copy of the Build file on your system.

This name may have the following format:

_WEBPAD_H_1-0_b9_CONTBUILD_win.zip_

where:

* _WEBPAD_ = Project Name
* _H_ = Stream type indication: H = Head, B = Branch
* __1-0 __= Build Prefix
* _b9_ = Build Number
* _CONTBUILD_ = Build Environment name
* __win __= Build Environment suffix
* _zip_ = filename extension. For Builds on a Windows Machine, this is .zip, for Linux/Unix Builds, the extension is .tar.gz.

If the Build failed, this field is empty

|File Size
|The size of the Build File (in bytes, kB, MB, GB or TB).

|Archive Status
a|The status of the Archive.

To be able to download the Build file, the archive must be _Present_ in the IKAN ALM database.

Possible values are:

* _Present_
* __Non Existing__: In case the Build is not executed yet, or when the Build failed
* __Deleted__: Removed from the Build Archive with the Housekeeping functionalities

|Environment
|The name of the Build Environment where this Build was executed.

|Machine
|The name of the Machine hosting the Build Environment where this Build was executed.

|Status
|The status of the Build that produced the result.

|image:images/Desktop-LevelRequests-Detailed-PhaseLogs-DownloadBuildResult.png[,183,32] 
|This link allows you to download the Build Result or to open it using a File Explorer.

Note that this is only possible if the option _Downloadable
Build_ has been activated on the Build Environment.
For more information, refer to the section <<#_projadm_buildenv_edit,>>.

If not, you can always visualize the tree by clicking the plus sign in front of the zip file.

image:images/Desktop-LevelRequests-Detailed-Results-expanded.png[,367,280] 
|===

[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

|===

[[_desktop_lr_approvals]]
==== Approvals 
(((Level Request Detail ,Approvals)))  (((Level Requests ,Approvals)))  (((Approvals))) 

The _Approvals_ page displays the status of the Approvals that are defined for the Level Request.
The Approvals are ordered according to the sequence in which they should be approved.


image::images/Desktop-LevelRequests-Detailed-Approvals.png[,917,258] 

Before the Level Request can start, all Pre-Approvals need to be approved.
Post-approvals need to be given at the end of the Level Request and enable to approve or reject the results or actions of the Level Request.
Approvals can be approved or rejected by the Users belonging to the User Group of the Approval.

For more information on defining Approvals on Levels, refer to <<#_levelenvmgt_approvalsequence,>>.

[NOTE]
====
A user can check whether he/she still has to approve/reject an Approval by using the Outstanding Approvals menu option. <<#_desktop_outstandingapprovals,>>
====

The following information is displayed:

[NOTE]
====
If there are no Approvals, the following information will be displayed:


image::images/Desktop-LevelRequests-Detailed-Results-NoApprovals.png[,377,157] 


====

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Sequence Number
|This field contains the _Sequence Number_ of the Approval.

The Approvals are ordered per type.

|Status
a|This field indicates the Approval Status.

Possible status indications are:

* Awaiting Approval
* Awaiting Level Request Finish: This status is assigned to a Post-Approval when a Level Request starts, and is changed to "`Awaiting Approval`" when the Level Request ends with status Success or Warning.
* Awaiting Predecessor Approval: this status is assigned to the Approval when a preceding Approval on the Level Request must be granted first.
* Approved
* Rejected
* Canceled: when a previous Level Approval was rejected, or when the Level Request was canceled or aborted.

|Type
|This field indicates the Approval Type.

Possible Approval Types are:
* Pre-Approval
* Post-Approval

|User Group
|This field contains the name of the User Group whose members can grant or reject the Approval.

This matches the settings on the _Level Approvals
Overview_ screen (<<#_levelenvmgt_approvalsequence,>>).

|User
|This field contains the User ID of the User who granted or rejected the Approval.

This field is empty for waiting Approvals.

|Approval Date/Time
|This field contains the Approve or Reject Timestamp.

This field is empty for waiting Approvals.

|Reason
|This field contains the comment the User entered in the _Reason_ field when he or she granted or rejected the Approval.
For some special events, like Level Request cancellations, abortions or failures, this reason is automatically provided by IKAN ALM.
|===

[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

|===

[[_desktop_lr_issues]]
==== Issues 
(((Level Requests ,Issues)))  (((Level Request Detail ,Issues)))  (((Issues))) 

The _Issues_ page displays the list of Issues that have been linked to a Level Request.
Issues can get linked to a Level Request automatically by IKAN ALM during the execution of the Level Request, or manually by a User after the Level Request has ended.


image::images/Desktop-LevelRequests-Detailed-Issues.png[,701,275] 

Refer to the section <<#_globadm_issuetracking,>>for more information on defining on external Issue Tracking System, and to <<#_phases_generalinformation,>>for more information on the Issue Tracking Phase.

[NOTE]
====
Issue information is only visible when the Project of the Level Request is linked to an Issue Tracking System. <<#_projadmin_projectsoverview_editing,>>

If the project is connected to an HP Quality Center, Atlassian JIRA, Collabnet TeamForge or Microsoft Team Foundation Issue Tracking System, the description, status, owner and priority information will automatically be filled in based on the Issue information in the Issue Tracking System concerned.
For other Issue Tracking Systems, you can add the information manually.
====

The following information is available:

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Issue ID
|This field displays the ID by which the Issue is defined in the external Issue Tracking System.

If the URL field of the Issue Tracking System definition is not empty, this field will be displayed as a link.
Click the link to directly view the Issue in the external Issue Tracking System's Web interface.

Refer to <<GlobAdm_IssueTracking.adoc#_globadm_issuetrackingcreate,Issue Tracking Creating an Issue Tracking System>>for more information on the URL field.

|Description
|This field displays the Description of the Issue.

|Status
|This field displays the Status of the Issue

|Owner
|This field displays the owner of the Issue.

|Priority
|This field displays the Priority of the Issue.
|===



[NOTE]
====
If there are no Issues, the following information will be displayed:

image::images/Desktop-LevelRequests-Detailed-Results-NoIssues.png[,508,213] 
====

[NOTE]
====
Apart from the Issue ID, the information in the fields may not be automatically filled in when IKAN ALM synchronizes the Issues with the Issue Tracking System.
In that case, the values need to be provided manually by editing the Issue. 
====

Use the appropriate link for editing, deleting or adding an Issue.

[NOTE]
====
These links are only available for Build Levels.

* image:images/icons/edit.gif[,15,15] __ Edit__. <<Desktop_LevelRequests.adoc#_desktop_lr_issueedit,Editing an Issue>>
* image:images/icons/delete.gif[,15,15] __ Delete__. <<Desktop_LevelRequests.adoc#_desktop_lr_issuedelete,Deleting an Issue>>
* image:images/icons/icon_synchronize.png[,15,15] __ Synchronize__. <<Desktop_LevelRequests.adoc#_desktop_lr_issuesynchronize,Synchronizing an Issue>>
* __Add Issue__. <<Desktop_LevelRequests.adoc#_desktop_lr_issueadd,Adding an Issue>>
====

[[_desktop_lr_issueedit]]
===== Editing an Issue 
(((Issues ,Editing))) 

This option is provided to manually update the fields of an Issue linked to this Level Request.

. Click the image:images/icons/edit.gif[,15,15] _Edit_ link.
+
The __Edit Issue __screen is displayed:
+
image::images/Desktop-LevelRequests-Detailed-EditIssue.png[,431,321] 
+
. Change the fields as required.
+
For a detailed description of the fields, refer to <<Desktop_LevelRequests.adoc#_desktop_lr_issueadd,Adding an Issue>>.
. Click _Save_ to save your changes.
+
You can also click:

* _Refresh_ to retrieve the settings from the database.
* __Cancel __to return to the previous screen without saving your changes.


[[_desktop_lr_issuedelete]]
===== Deleting an Issue 
(((Issues ,Deleting))) 

This option is provided to manually update the fields of an Issue linked to this Level Request.

. Click the image:images/icons/delete.gif[,15,15] _Delete_ link.
+
The _Confirm Issue Deletion_ screen is displayed:
+
image::images/Desktop-LevelRequests-Detailed-DeleteIssue.png[,360,223] 
+
. Click _Delete_ to confirm the Issue Deletion.
+
You can also click _Cancel_ to return to the _Issues_ page without deleting the Issue.


[[_desktop_lr_issuesynchronize]]
===== Synchronizing an Issue 
(((Issues ,Synchronizing))) 

[NOTE]
====
This option is only available for Atlassian JIRA, HP Quality Center, Collabnet TeamForge and Microsoft Team Foundation.
====

HP Quality Center Defects, JIRA Issues, TeamForge and Team Foundation Artifacts may be linked to an IKAN ALM Level Request, based on the comments provided by the developers when they commit their code to the VCR.
IKAN ALM retrieves information from the corresponding Issue, such as a short description, the owner and the priority.
This information is synchronized during the Issue Tracking Phase each time the Level Request is delivered to the next Level in the IKAN ALM Lifecycle.

The _Synchronize_ option is provided to manually synchronize the Status, Owner and Priority fields of an Issue linked to this Level Request.
This may be useful when Issues are manually added to the Level Request, e.g., when they were omitted by the developers in the commit comments.

............ Click the image:images/icons/icon_synchronize.png[,15,15] _Synchronize_ link.
............ If the synchronization succeeds, the __Status__, _Owner_ and _Priority_ fields will be updated and a message confirming the successful synchronization is displayed at the top of the screen. 
+
If the synchronization fails, an error message indicating the problem will be displayed.


[[_desktop_lr_issueadd]]
===== Adding an Issue 
(((Issues ,Adding))) 

This option is provided to manually link Issues to a Level Request.

This may be necessary when the automatic process did not detect some Issues, or when Issues need to be linked with Level Requests that were executed at a time when an external Issue Tracking System was not yet properly configured in IKAN ALM.

. Click the __Add Issue__ link.
+
The _Add Issue_ screen is displayed:
+
image::images/Desktop-LevelRequests-Detailed-AddIssue.png[,465,328] 
+
The following fields are available.
Fields marked with an asterisk are mandatory.
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|Issue ID
|Enter the number by which the Issue is defined in the external Issue Tracking System.

This value is used in the _Related Issues_ panel on the _Level Request Detail_ screen to provide the direct link to the Issue in the external Issue Tracking System's Web interface.

This field is mandatory

|Description
|Enter text describing the Issue.

This field is optional.

|Status
|Enter the Status of the Issue (e.g.: open, closed, in progress, ...)

This field is optional.

|Owner
|Enter the Owner (or reporter) of the Issue.

This field is optional

|Priority
|
Enter the Priority of the Issue (e.g.: high, medium, low,...)

This field is optional.
|===
+

[NOTE]
====

For JIRA Issues, HP Quality Center Defects, TeamForge and Team Foundation Artifacts, it`'s sufficient to enter the Issue ID.
After having created the Issue, synchronize the issue (<<Desktop_LevelRequests.adoc#_desktop_lr_issuesynchronize,Synchronizing an Issue>>) to automatically retrieve the additional fields from the Issue Tracking System.
====

. Fill out the fields as required and click __Create__.
+
You can also click:

* _Reset_ to retrieve the settings from the database.
* __Cancel __to return to the previous screen without saving your changes.


[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

|===

[[_desktop_lr_sources]]
==== Sources 
(((Level Requests ,Sources)))  (((Level Request Detail ,Sources)))  (((Sources))) 

The _Sources_ page displays the list of all the sources (and their revision numbers) in the VCR used by this Level Request.


image::images/Desktop-LevelRequests-Detailed-Sources.png[,620,478] 

For Builds based on latest code, these files were tagged by IKAN ALM in the Tag Code Phase of this Level Request.

For Builds based on tagged code, these files were already tagged by either a previous Level Request on the Build Level of this Lifecycle or, in the case of a Tag-Based build, by an external system.

[NOTE]
====
This information is only visible if the Level Request has ended with status _Success_ or __Warning__.
====

[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

|===

[[_desktop_lr_modifications]]
==== Modifications 
(((Level Request Detail ,Modifications)))  (((Level Requests ,Modifications)))  (((Modifications))) 

The _Modifications_ page allows you to verify the differences between the sources used to create the current Build and the ones used for the Build generated by the previous Level Request.
Although there is no Build on Levels with only Deploy Environments, this information will still be visible for Level Requests on such Levels, since in this case there is always a Build that is deployed to that Level.


image::images/Desktop-LevelRequests-Detailed-Modifications.png[,919,631] 

The list of modifications shows additions in green, modifications in blue and deletions in red.
The Type (File or Directory) and Modification Type are displayed in separate columns.

The following information is displayed for the previous Level Request:

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|OID
|This field displays the OID of the previous Level Request.

When clicking this OID link, the detail of the previous successful build will be displayed.

|Description
|This field displays the description of the previous Level Request.

|Build Number
|This field displays the Build number of the previous Level Request.

|VCR Tag
|This field contains the VCR Tag of the previous Level Request.
This Tag matches a Build with its source code in the VCR.

The format of the VCR Tag normally matches the Tag Template defined for the Stream. <<#_projadm_projectstreams,>>

However, the user can override the default VCR Tag while creating a Level Request, so that the Tag Format can be completely different.

|Start
|This field displays the date/time when the previous Level Request started.

|Duration
|This field displays the total execution time of the previous Level Request.
|===

[NOTE]
====

Modifications cannot be shown if there is no previous successful Level Request to compare with.

On the Build Level, modifications are only shown for the statuses _Warning_ or __Success__.
====

[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_dependencies,Dependencies>>

|===

[[_desktop_lr_dependencies]]
==== Dependencies 
(((Level Request Detail ,Dependencies)))  (((Level Requests ,Dependencies)))  (((Dependencies))) 

The Project Dependency functionality makes it possible to reuse common libraries or sources from Child Projects.

Projects can be reused in two ways:

* as a Build result retrieved from the Build Archive, or
* as sources retrieved from the Versioning System.


In the case of __reuse of a Build
result__, there will be a link between the _parent Build_ object and the _child Build_ object. 

In the case of __reuse of sources__, there will be a link between the _parent
Build_ object and the _child Level Request_ object. 

[NOTE]
====
Project Stream dependencies are defined on the Edit Project Stream Dependency Detail screen using the Code Retrieval field. <<#_projadmin_projectstream_editdependency,>>
====

The _Dependencies_ page is the starting point to find all the information concerning:
. <<Desktop_LevelRequests.adoc#_desktop_lr_viewdependency,Build Dependencies>>
. <<#_deskopt_lr_viewbuildusage,>>
. <<#_desktop_lr_viewusage,>>


[[_desktop_lr_viewdependency]]
===== Build Dependencies 
(((Level Request Detail ,Build Dependencies)))  (((Level Requests ,Build Dependencies)))  (((Build Dependencies))) 

The _Dependencies_ page displays the specific Builds and/or Sources of the Child Projects where this Build depends on.
Note that the transitive dependencies of a Child whose sources are used will also be displayed, since they were also collected in the _Retrieve Code_ Phase.


image::images/Desktop-LevelRequests-Detailed-Dependencies.png[,921,455] 


[NOTE]
====
If there are no Dependencies, the following information will be displayed:


image::images/Desktop-LevelRequests-Detailed-Dependencies-None.png[,309,142] 


====

Per Build, a Dependency table will be displayed.

. Verify the information on the _Dependencies_ table.
+
The following information fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Project Stream
|This field displays the Name followed by the Build Prefix of the Child Project Stream. 

|OID
|This field displays the Level Request OID of the Child Build.

Click the link to display the details for this Level Request.

|Dependency Type
a|This field displays the Dependency Type of the Build Dependency.

Possible types are:

* __Source Code__: the sources of the Child Build are used
* __Build Result__: the Build result of the Child Build is used

See the description of the _Code Retrieval_ field in the section <<#_projadmin_projectstream_editdependency,>>.

|Level Name
|This field displays the name of the Level.

|Status
|This field displays the status of the Level Request of the Child Build.

|Build Number
|This field displays the Build Number of the Child Build.

This field is empty if the Dependency Type is __Source
Code__.

|VCR Tag
|This field displays the VCR Tag of the Level Request of the Child Build.

|Start
|This field displays the date/time when the Level Request of the Child Build started.

|Duration
|This field displays the total execution time of the Level Request of the Child Build.
|===

. You click through on one of the _OID_ links to display its Level Request Details.


===== Build Usage 
(((Level Request Detail ,Build Usage)))  (((Level Requests ,Build Usage)))  (((Build Usage))) 

In the case of __reuse of a Build
result__, there will be a link between the _parent Build_ object and the _child Build_ object. 

In that case, the _Build Usage_ panel provides information concerning the Level Requests using the Build Result of a specific Build.


image::images/Desktop-LevelRequests-Detailed-Dependencies_BuildUsage.png[,921,491] 

This information is useful in case there is a problem with a child library, or with the sources of a Project which is used by another Project.
It allows you to find out whether other Projects use this child library, or these child sources.

[NOTE]
====
This information is only visible if a parent (dependent) project has used this Level Request's Build result in a Build of its own.
====

. Verify the information on the _Dependencies_ table.
+
The following information fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Project Stream
|This field displays the Name followed by the Build Prefix of the Parent Project Stream. 

|OID
|This field displays the Level Request OID of the Parent Build.

Click the link to display the details for this Level Request.

|Level Name
|This field displays the name of the Level.

|Status
|This field displays the status of the Level Request of the Parent Build.

|Build Number
|This field displays the Build Number of the Parent Build.

|VCR Tag
|This field displays the VCR Tag of the Level Request of the Parent Build.

|Start
|This field displays the date/time when the Level Request of the Parent Build started.

|Duration
|This field displays the total execution time of the Level Request of the Parent Build.
|===

. You can click through on one of the _OID_ links to display its Level Request Details.


===== Level Request Usage 
(((Level Request Detail ,Level Request Usage)))  (((Level Requests ,Level Request Usage)))  (((Level Request Usage))) 

In the case of __reuse of sources__, there will be a link between the _parent
Build_ object and the _child Level Request_ object.
In that case, the _Level Request Usage_ table displays the Level Requests of parent projects that use this Level Request's sources.


image::images/Desktop-LevelRequests-Detailed-Dependencies_LevelRequestUsage.png[,931,600] 


[NOTE]
====
This information is only visible if a parent (dependent) project has used this Level Request's sources in a Build of its own.
====

. Verify the information on the _Level Request Usage_ table.
+
The following information fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Meaning

|Project Stream
|This field displays the Name followed by the Build Prefix of the Parent Project Stream. 

|OID
|This field displays the Level Request OID of the Parent Build.

Click the link to display the details for this Level Request.

|Level Name
|This field displays the name of the Level.

|Status
|This field displays the status of the Level Request of the Parent Build.

|Build Number
|This field displays the Build Number of the Parent Build.

|VCR Tag
|This field displays the VCR Tag of the Level Request of the Parent Build.

|Start
|This field displays the date/time when the Level Request of the Parent Build started.

|Duration
|This field displays the total execution time of the Level Request of the Parent Build.
|===

. You can click through on one of the _OID_ links to display its Level Request Details.


[cols="1", frame="topbot"]
|===

a|_RELATED TOPICS_

* <<Desktop_LevelRequests.adoc#_dekstop_lr_detailedoverview,Level Request Detail>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_phaselogs,Phase Logs>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_results,Results>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_approvals,Approvals>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_issues,Issues>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>
* <<Desktop_LevelRequests.adoc#_desktop_lr_modifications,Modifications>>

|===

[[_desktop_lr_buildhistory]]
=== Build History Screen 
(((Desktop ,Build History)))  (((Build History))) 

The _Build History_ option allows to quickly verify the Lifecycle of a specific Build (identified by its number).

. Select _Level Requests > Overview Level Requests_ on the Main Menu.
. Click the _Build Number_ link you want to see the history for.
+
image::images/Desktop-BuildHistory-SelectBuildNumber.png[,1002,390] 
+
The _Build History_ screen is displayed:
+
image::images/Desktop-BuildHistory-Detail.png[,943,500] 
+
If the__ Auto Refresh __option is activated, the _Build History_ screen will be refreshed each time the defined rate is expired. <<UserInterface.adoc#_desktop_autorefresh,Auto Refresh>>
+

[NOTE]
====
The _Build History_ can also be accessed from the __Builds and Deploys Overview__, and from the __Level Request Detail __screen.
====
+

The screen is structured as follows:

+
.. Status Header
+
The header displays the Project Name, Project Stream Identification and Build number of the Level Request, and the VCR tag.
+
Those links lead to the _Level Request Overview_ screen.
Depending on the link element you select, more information will already be filled in on the _Search Level Request_ panel to limit the Level Requests displayed on the overview.
.. Lifecycle Panel
+
This panel shows an ordered view of the latest Build actions for all Levels of the Lifecycle connected to the Project Stream.
+
For each Level, the latest Level Request of the Build is shown, with the Requested Date/Time, the Type, a link to the Level Request Detail screen and the Status.
If this Level Request is also the latest for a Level, it will be highlighted.
If the Build was never executed/delivered to the Level, only the Level Name will be visible.
+
The Level type is indicated as follows:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Icon
| Description


|image:images/icons/icon_BH_BuildLevel_40px.png[,40,40] 
|Build Level

|image:images/icons/icon_BH_TestLevel_40px.png[,40,40] 
|Test Level

|image:images/icons/icon_BH_ProdLevel_40px.png[,40,40] 
|Production Level
|===
+
If a Level is optional, it is preceded by the image:images/icons/optional.gif[,15,15]  icon.

.. Level Request History
+
The Level Request History provides information about all Level Requests related to the selected Build.
The Level Requests are ordered so that the most recent Level Request (i.e., the Level Request indicating the current situation) is displayed at the top of the list.
+
The following information is displayed for each of the Level Requests:

* The Action Type of the Level Request (Requested or Forced Build, Deliver or Rollback)
* The Level Type (Build, Test or Production)
* The Level Request OID
+
The OID is displayed as a link.
Clicking this link will display the Level Request Detail screen).
* The Requested Date/Time
* The Level Request status

+
The Level Requests can be sorted in ascending or descending order.
+
By default, the "`active`" Level Requests are high-lighted in a different color.
A Level Request is active if it is the last successful (status is set to _Success_ or __Warning__) Level Request on the Level.
You can deactivate this, by deselecting the _Highlight where active_ option.


[[_desktop_lr_buildsdeploysoverview]]
=== Builds and Deploys Overview 
(((Level Requests ,Overview ,Builds and Deploys)))  (((Builds and Deploys Overview))) 

. Select _Level Requests > Overview Builds and Deploys Level Request_ on the Main Menu.
+
The _Builds and Deploys Overview_ screen is displayed:
+
image::images/Desktop-BuildsDeploys-Overview.png[,994,412] 
+

[NOTE]
====
If the__ Auto Refresh __option is activated, the _Build and Deploys Overview_ screen will be refreshed each time the defined rate is expired. <<UserInterface.adoc#_desktop_autorefresh,Auto Refresh>>
====

. Use the search criteria on the _Search Builds and Deploys_ panel to only display the Builds and/or Deploys you are looking for.
+

[NOTE]
====
You can select multiple statuses and/or action types on the select boxes using the _SHIFT_ or _CTRL_ key.
====
+
image::images/Desktop-LevelRequests-BuildsDeploys-SearchPanel.png[,852,234] 
+
The following options are available:

* Show advanced options: to display all available search criteria.
* Search: in principle it is not necessary to click the _Search_ option. The results on the overview will be automatically synchronized in function of the selected criteria.
* Reset search: to clear all search criteria and display the full list of items.
* Select an existing filter from the drop-down list.
* Save filter: to save the current search criteria for future use.

+
For more information on the usage of search panels and filters, refer to the sections <<#_babcjedaj8,>> and <<Desktop_PersonalSettings.adoc#_desktop_searchfilters,Defining Search Filters>>.

. Verify the information on the _Builds and Deploys Overview_ panel.
+

[NOTE]
====
Columns marked with the image:images/icons/icon_sort.png[,15,15]  icon can be sorted alphabetically (ascending or descending).
====
+
The following information fields are available:
+

[cols="1,1", frame="topbot", options="header"]
|===
| Field
| Description

|OID
|This field contains the OID (Object Identifier) of the Build or Deploy action.

Click this link to display the details for this Level Request which created the Build or Deploy.

For more information, refer to the section explaining the <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>> tab page of the _Level Request Detail_ screen. 

|Type
|This field contains the object type: Build or Deploy.

|Project Stream
a|This field contains the identification of the Project Stream.

This name is composed of:

* Project Name
* Project Stream Type: H (Head) or B (Branch)
* Project Stream Prefix, optionally followed by the Suffix in case of a Branch Project Stream

Example: `Webpad H_1-0`

|Project Name
|This field contains the name of the Project concerned by the Level Request which created the Build or Deploy.

|Level Name
|This field contains the name of the Level concerned by the Level Request which created the Build or Deploy.

|Level Type
|This field contains the type of the Level concerned by the Level Request (Build, Test or Production) which created the Build or Deploy.

|Environment Name
|This field contains the name of the Build or Deploy Environment.

|Machine Name
|This field contains the name of the Machine.

|Status
a|This field contains the status of the Build or the Deploy.

The following status indications are possible:

* image:images/icons/succes.gif[,15,15] _Success_
* image:images/icons/warning.gif[,15,15] _Warning_
* image:images/icons/fail.gif[,15,15] _Fail_
* image:images/icons/run.gif[,15,15] _Run_
* image:images/icons/waiting_datetime.gif[,15,15] _Wait_
* image:images/icons/run.gif[,15,15] _In progress_
* image:images/icons/reject.gif[,15,15] _Rejected_
* image:images/icons/cancelled.gif[,15,15] _Canceled_
* image:images/icons/aborted.gif[,15,15] _Aborted_

For more information, refer to the section <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>>.

|Level Request Status
a|This field contains the Level Request status.
The following status indications are possible:

* image:images/icons/succes.gif[,15,15] _Success_
* image:images/icons/warning.gif[,15,15] _Warning_
* image:images/icons/fail.gif[,15,15] _Fail_
* image:images/icons/run.gif[,15,15] _Run_
* image:images/icons/run.gif[,15,15] _Aborting_
* image:images/icons/waiting_datetime.gif[,15,15] _Awaiting requested Date/Time_
* image:images/icons/waiting_approval.gif[,15,15] _Awaiting Pre-Approval_
* image:images/icons/waiting_approval.gif[,15,15] _Awaiting Post-Approval_
* image:images/icons/reject.gif[,15,15] _Rejected_
* image:images/icons/cancelled.gif[,15,15] _Canceled_
* image:images/icons/aborted.gif[,15,15] _Aborted_

For more information, refer to the section <<#_desktop_lr_overviewscreen,>>.

|Build Number
|This field contains the Build Number of the Level Request.
Use this link to access the _Build
History Detail_ screen. 

|VCR Tag
|This field contains the VCR Tag of the Level Request.
This Tag matches a Build with its source code in the VCR.

The Level Request VCR Tag is displayed as a link leading to the _Sources_ tab page on the _Level
Request Detail_ screen.
For more information, refer to the section <<Desktop_LevelRequests.adoc#_desktop_lr_sources,Sources>>.

|Start
|This field indicates the date and time when the Build or Deploy execution started.

|End
|This field indicates the date and time when the Build or Deploy execution ended.
|===

. View the details of a specific Build or Deploy
+
Click the Level Request`'s _OID_ link which created the Build or Deploy.
+
For more information, refer to the section explaining the <<Desktop_LevelRequests.adoc#_desktop_lr_summary,Summary>> tab page of the _Level Request Detail_ screen. 
